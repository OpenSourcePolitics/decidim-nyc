"use strict";$(document).ready(function(){var t=function(){return $(".table-list .js-check-all-proposal:checked").length},e=function(){return $(".table-list [data-published-state=false] .js-check-all-proposal:checked").length};window.selectedProposalsCountUpdate=function(){var o=t(),s=e();0==o?$("#js-selected-proposals-count").text(""):$("#js-selected-proposals-count").text(o),o>=2?$('button[data-action="merge-proposals"]').parent().show():$('button[data-action="merge-proposals"]').parent().hide(),s>0?($('button[data-action="publish-answers"]').parent().show(),$("#js-form-publish-answers-number").text(s)):$('button[data-action="publish-answers"]').parent().hide()};var o=function(){t()>0&&$("#js-bulk-actions-button").removeClass("hide")};window.hideBulkActionsButton=function(){var e=!(arguments.length<=0||arguments[0]===undefined)&&arguments[0];0!=t()&&1!=e||($("#js-bulk-actions-button").addClass("hide"),$("#js-bulk-actions-dropdown").removeClass("is-open"))},window.showOtherActionsButtons=function(){$("#js-other-actions-wrapper").removeClass("hide")},window.hideOtherActionsButtons=function(){$("#js-other-actions-wrapper").addClass("hide")},window.hideBulkActionForms=function(){$(".js-bulk-action-form").addClass("hide")},$(".js-bulk-action-form").length&&(window.hideBulkActionForms(),$("#js-bulk-actions-button").addClass("hide"),$("#js-bulk-actions-dropdown ul li button").click(function(t){t.preventDefault();var e=$(t.target).data("action");e&&($("#js-form-"+e).submit(function(){$(".layout-content > .callout-wrapper").html("")}),$("#js-"+e+"-actions").removeClass("hide"),window.hideBulkActionsButton(!0),window.hideOtherActionsButtons())}),$(".js-check-all").change(function(){$(".js-check-all-proposal").prop("checked",$(this).prop("checked")),$(this).prop("checked")?($(".js-check-all-proposal").closest("tr").addClass("selected"),o()):($(".js-check-all-proposal").closest("tr").removeClass("selected"),window.hideBulkActionsButton()),selectedProposalsCountUpdate()}),$(".table-list").on("change",".js-check-all-proposal",function(){var t=$(this).val(),e=$(this).prop("checked");!1===$(this).prop("checked")&&$(".js-check-all").prop("checked",!1),$(".js-check-all-proposal:checked").length===$(".js-check-all-proposal").length&&($(".js-check-all").prop("checked",!0),o()),$(this).prop("checked")?(o(),$(this).closest("tr").addClass("selected")):(window.hideBulkActionsButton(),$(this).closest("tr").removeClass("selected")),0===$(".js-check-all-proposal:checked").length&&window.hideBulkActionsButton(),$(".js-bulk-action-form").find(".js-proposal-id-"+t).prop("checked",e),selectedProposalsCountUpdate()}),$(".js-cancel-bulk-action").on("click",function(){window.hideBulkActionForms(),o(),showOtherActionsButtons()}))});