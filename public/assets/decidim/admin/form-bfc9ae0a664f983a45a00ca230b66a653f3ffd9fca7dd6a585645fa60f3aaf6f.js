"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();!function(e){var n=function(){function e(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,e),this.ruleCheckboxes=n.ruleCheckboxes,this._runAll()}return _createClass(e,[{key:"_runAll",value:function(){var e=this;this.ruleCheckboxes.each(function(n,t){e._bindEvent(t),e.run(t)})}},{key:"_bindEvent",value:function(e){var n=this;$(e).on("change",function(e){n.run(e.target)})}},{key:"run",value:function(e){var n=this;this.toggleTextInput(e),$(e).prop("checked")&&this.ruleCheckboxes.filter(function(n,t){return t!==e}).prop("checked",!1).each(function(e,t){n.toggleTextInput(t)})}},{key:"toggleTextInput",value:function(e){var n=$(e).closest("div");if(!(n.length<1)){var t=n.attr("class").replace(/^vote_rule_/,"vote_").replace(/_enabled_container$/,""),i=$('[class^="'+t+'"][class$="_container"]');$(e).prop("checked")?i.slideDown():i.slideUp()}}}]),e}();e.DecidimAdmin=e.DecidimAdmin||{},e.DecidimAdmin.BudgetRuleTogglerComponent=n}(window),$(function(){var e,n,t;e=window,n=$("#component_settings_scopes_enabled"),t=$("#component_settings_scope_id"),$(".edit_component, .new_component").length>0&&(n.on("change",function(n){var i=n.target.checked;e.theDataPicker.enabled(t,i)}),e.theDataPicker.enabled(t,n.prop("checked")))}),$(function(){var e=$("label[for='component_settings_proposal_edit_time_limited']"),n=$("#component_settings_proposal_edit_time_limited"),t=$("#component_settings_proposal_edit_time_infinite"),i=$(".proposal_edit_before_minutes_container");i.detach().appendTo(e),t.is(":checked")&&i.hide(),n.on("click",function(){i.show()}),t.on("click",function(){i.hide()})}),new(0,window.DecidimAdmin.BudgetRuleTogglerComponent)({ruleCheckboxes:$("input[id^='component_settings_vote_rule_']")}).run(),$(function(){$(".readonly_container input").click(function(e){return e.preventDefault(),!1});var e,n=$("input#component_settings_amendments_enabled");n.length>0&&(e=$(".amendments_wizard_help_text_container, .amendments_visibility_container, .amendment_creation_enabled_container, .amendment_reaction_enabled_container, .amendment_promotion_enabled_container"),n.is(":not(:checked)")&&e.hide(),n.click(function(){e.toggle()}))});