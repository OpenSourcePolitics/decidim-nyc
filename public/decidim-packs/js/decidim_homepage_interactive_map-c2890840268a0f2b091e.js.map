{"version":3,"file":"js/decidim_homepage_interactive_map-c2890840268a0f2b091e.js","mappings":"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","sources":["webpack://app/webpack/runtime/chunk loaded","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/vendor/leaflet-tilelayer-here.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/map/icon.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-module-homepage_interactive_map-3710b5371558/app/packs/src/decidim/homepage_interactive_map/interactive_map.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-module-homepage_interactive_map-3710b5371558/app/packs/src/decidim/homepage_interactive_map/scope.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-module-homepage_interactive_map-3710b5371558/app/packs/src/vendor/leaflet-polylabel-centroid.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/decidim-decidim_awesome-0.8.3/app/packs/src/vendor/jquery.truncate.js","webpack://app/webpack/bootstrap","webpack://app/webpack/runtime/define property getters","webpack://app/webpack/runtime/hasOwnProperty shorthand","webpack://app/webpack/runtime/make namespace object","webpack://app/webpack/runtime/jsonp chunk loading","webpack://app/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/* eslint-disable */\n\n// ðŸ‚class TileLayer.HERE\n// Tile layer for HERE maps tiles.\nL.TileLayer.HERE = L.TileLayer.extend({\n\n  options: {\n    subdomains: '1234',\n    minZoom: 2,\n    maxZoom: 18,\n\n    // ðŸ‚option scheme: String = 'normal.day'\n    // The \"map scheme\", as documented in the HERE API.\n    scheme: 'normal.day',\n\n    // ðŸ‚option resource: String = 'maptile'\n    // The \"map resource\", as documented in the HERE API.\n    resource: 'maptile',\n\n    // ðŸ‚option mapId: String = 'newest'\n    // Version of the map tiles to be used, or a hash of an unique map\n    mapId: 'newest',\n\n    // ðŸ‚option format: String = 'png8'\n    // Image format to be used (`png8`, `png`, or `jpg`)\n    format: 'png8',\n\n    // ðŸ‚option appId: String = ''\n    // Required option. The `app_id` provided as part of the HERE credentials\n    appId: '',\n\n    // ðŸ‚option appCode: String = ''\n    // Required option. The `app_code` provided as part of the HERE credentials\n    appCode: '',\n\n    // ðŸ‚option useCIT: boolean = false\n    // Whether to use the CIT when loading the here-maptiles\n    useCIT: false,\n\n    // ðŸ‚option useHTTPS: boolean = true\n    // Whether to use HTTPS when loading the here-maptiles\n    useHTTPS: true,\n\n    // ðŸ‚option language: String = ''\n    // The language of the descriptions on the maps that are loaded\n    language: '',\n\n    // ðŸ‚option language: String = ''\n    // The second language of the descriptions on the maps that are loaded\n    language2: '',\n  },\n\n\n  initialize: function initialize(options) {\n    options = L.setOptions(this, options);\n\n    // Decide if this scheme uses the aerial servers or the basemap servers\n    var schemeStart = options.scheme.split('.')[0];\n    options.tileResolution = 256;\n\n    // {Base URL}{Path}/{resource (tile type)}/{map id}/{scheme}/{zoom}/{column}/{row}/{size}/{format}\n    // ?apiKey={YOUR_API_KEY}\n    // &{param}={value}\n\n    var params = [\n      'apiKey=' + encodeURIComponent(options.apiKey)\n    ];\n    // Fallback to old app_id,app_code if no apiKey passed\n    if(!options.apiKey) {\n      params = [\n        'app_id=' + encodeURIComponent(options.appId),\n        'app_code=' + encodeURIComponent(options.appCode),\n      ];\n    }\n    if(options.language) {\n      params.push('lg=' + encodeURIComponent(options.language));\n    }\n    if(options.language2) {\n      params.push('lg2=' + encodeURIComponent(options.language2));\n    }\n    var urlQuery = '?' + params.join('&');\n\n    var path = '/maptile/2.1/{resource}/{mapId}/{scheme}/{z}/{x}/{y}/{tileResolution}/{format}' + urlQuery;\n    var attributionPath = '/maptile/2.1/copyright/{mapId}?apiKey={apiKey}';\n\n    var baseUrl = 'maps.ls.hereapi.com';\n\n    // Old style with apiId/apiCode for compatibility\n    if(!options.apiKey) {\n      // make sure the CIT-url can be used\n      baseUrl = 'maps' + (options.useCIT ? '.cit' : '') + '.api.here.com';\n      attributionPath = '/maptile/2.1/copyright/{mapId}?app_id={appId}&app_code={appCode}';\n    }\n\n    var tileServer = 'base.' + baseUrl;\n    if (schemeStart == 'satellite' || schemeStart == 'terrain' || schemeStart == 'hybrid') {\n      tileServer = 'aerial.' + baseUrl;\n    }\n    if (options.scheme.indexOf('.traffic.') !== -1) {\n      tileServer = 'traffic' + baseUrl;\n    }\n\n    var protocol = 'http' + (options.useHTTPS ? 's' : '');\n    var tileUrl = protocol + '://{s}.' + tileServer + path;\n\n    this._attributionUrl = L.Util.template(protocol + '://1.' + tileServer + attributionPath, this.options);\n\n    L.TileLayer.prototype.initialize.call(this, tileUrl, options);\n\n    this._attributionText = '';\n\n  },\n\n  onAdd: function onAdd(map) {\n    L.TileLayer.prototype.onAdd.call(this, map);\n\n    if (!this._attributionBBoxes) {\n      this._fetchAttributionBBoxes();\n    }\n  },\n\n  onRemove: function onRemove(map) {\n    //\n    // Remove the attribution text, and clear the cached text so it will be recalculated\n    // if/when we are shown again.\n    //\n    this._map.attributionControl.removeAttribution(this._attributionText);\n    this._attributionText = '';\n\n    this._map.off('moveend zoomend resetview', this._findCopyrightBBox, this);\n\n    //\n    // Call the prototype last, once we've tidied up our own changes\n    //\n    L.TileLayer.prototype.onRemove.call(this, map);\n  },\n\n  _fetchAttributionBBoxes: function _onMapMove() {\n    var xmlhttp = new XMLHttpRequest();\n    xmlhttp.onreadystatechange = L.bind(function(){\n      if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\n        this._parseAttributionBBoxes(JSON.parse(xmlhttp.responseText));\n      }\n    }, this);\n    xmlhttp.open(\"GET\", this._attributionUrl, true);\n    xmlhttp.send();\n  },\n\n  _parseAttributionBBoxes: function _parseAttributionBBoxes(json) {\n    if (!this._map) { return; }\n    var providers = json[this.options.scheme.split('.')[0]] || json.normal;\n    for (var i=0; i<providers.length; i++) {\n      if (providers[i].boxes) {\n        for (var j=0; j<providers[i].boxes.length; j++) {\n          var box = providers[i].boxes[j];\n          providers[i].boxes[j] = L.latLngBounds( [ [box[0], box[1]], [box[2], box[3]] ]);\n        }\n      }\n    }\n\n    this._map.on('moveend zoomend resetview', this._findCopyrightBBox, this);\n\n    this._attributionProviders = providers;\n\n    this._findCopyrightBBox();\n  },\n\n  _findCopyrightBBox: function _findCopyrightBBox() {\n    if (!this._map) { return; }\n    var providers = this._attributionProviders;\n    var visibleProviders = [];\n    var zoom = this._map.getZoom();\n    var visibleBounds = this._map.getBounds();\n\n    for (var i=0; i<providers.length; i++) {\n      if (providers[i].minLevel <= zoom && providers[i].maxLevel >= zoom) {\n\n        if (!providers[i].boxes) {\n          // No boxes = attribution always visible\n          visibleProviders.push(providers[i]);\n        } else {\n          for (var j=0; j<providers[i].boxes.length; j++) {\n            var box = providers[i].boxes[j];\n            if (visibleBounds.intersects(box)) {\n              visibleProviders.push(providers[i]);\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    var attributions = ['<a href=\"https://legal.here.com/en-gb/terms\" target=\"_blank\" rel=\"noopener noreferrer\">HERE maps</a>'];\n    for (var i=0; i<visibleProviders.length; i++) {\n      var provider = visibleProviders[i];\n      attributions.push('<abbr title=\"' + provider.alt + '\">' + provider.label + '</abbr>');\n    }\n\n    var attributionText = 'Â© ' + attributions.join(', ') + '. ';\n\n    if (attributionText !== this._attributionText) {\n      this._map.attributionControl.removeAttribution(this._attributionText);\n      this._map.attributionControl.addAttribution(this._attributionText = attributionText);\n    }\n  },\n\n});\n\n\nL.tileLayer.here = function(opts){\n  return new L.TileLayer.HERE(opts);\n}\n","import * as L from \"leaflet\";\nimport { SVGIcon } from \"leaflet-svgicon\"\n\nL.DivIcon.SVGIcon = SVGIcon;\nL.DivIcon.SVGIcon.DecidimIcon = L.DivIcon.SVGIcon.extend({\n  options: {\n    fillColor: \"#ef604d\",\n    opacity: 0\n  },\n  _createPathDescription: function() {\n    return \"M14 1.17a11.685 11.685 0 0 0-11.685 11.685c0 11.25 10.23 20.61 10.665 21a1.5 1.5 0 0 0 2.025 0c0.435-.435 10.665-9.81 10.665-21A11.685 11.685 0 0 0 14 1.17Zm0 17.415A5.085 5.085 0 1 1 19.085 13.5 5.085 5.085 0 0 1 14 18.585Z\";\n  },\n  _createCircle: function() {\n    return \"\"\n  },\n  // Improved version of the _createSVG, essentially the same as in later\n  // versions of Leaflet. It adds the `px` values after the width and height\n  // CSS making the focus borders work correctly across all browsers.\n  _createSVG: function() {\n    const path = this._createPath();\n    const circle = this._createCircle();\n    const text = this._createText();\n    const className = `${this.options.className}-svg`;\n\n    const style = `width:${this.options.iconSize.x}px; height:${this.options.iconSize.y}px;`;\n\n    const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"${className}\" style=\"${style}\">${path}${circle}${text}</svg>`;\n\n    return svg;\n  }\n});\n","import \"src/vendor/leaflet-polylabel-centroid\";\nimport * as L from \"leaflet\";\nimport proj4 from \"proj4\"\nimport \"src/decidim/vendor/leaflet-tilelayer-here\"\nimport \"src/decidim/map/icon.js\" // comes with Decidim\nimport \"leaflet.markercluster\"; // Comes with Decidim\nimport \"leaflet.featuregroup.subgroup\" // included in this package.json\nimport \"src/vendor/jquery.truncate\"\n\nL.DivIcon.SVGIcon.DecidimIcon = L.DivIcon.SVGIcon.extend({\n  options: {\n    iconSize: L.point(24,34),\n    fillColor: getComputedStyle(document.documentElement).getPropertyValue('--primary'),\n    fillOpacity: 1,\n    opacity: 0,\n  },\n  _createPathDescription: function() {\n    return \"M12,0.17 C5.5465527,0.17 0.315,5.4015527 0.315,11.855 C0.315,23.105 10.545,32.465 10.98,32.855 C11.5531636,33.3793645 12.4318364,33.3793645 13.005,32.855 C13.44,32.42 23.67,23.045 23.67,11.855 C23.67,5.40740603 18.4475887,0.178276757 12,0.17 Z M12,17.585 C9.19163205,17.585 6.915,15.308368 6.915,12.5 C6.915,9.69163205 9.19163205,7.415 12,7.415 C14.808368,7.415 17.085,9.69163205 17.085,12.5 C17.085,15.308368 14.808368,17.585 12,17.585 L12,17.585 Z\";\n  },\n  _createCircle: function() {\n    return \"\"\n  }\n});\n\n(() => {\n  $(document).ready(() => {\n    const here_api_key = $(\"#interactive_map\").data(\"here-api-key\");\n    const geoJson = $(\"#interactive_map\").data(\"geojson-data\");\n    const $viewParticipatoryProcess = $(\"#view-participatory-process\");\n\n    // Used to prevent click event when double click navigating\n    const clickDelay = 500;\n    let clickTimer = 0;\n    let clickPrevent = false;\n\n    // Style options\n    const colorOpacity = 0.5;\n    const hoverColorOpacity = 0.8;\n    const strokeWeight = 1.5;\n    const polyLineColor = 1;\n    const strokeColor = \"#8a8a8a\";\n    const iconSize = 28;\n\n    const map = L.map('interactive_map', {scrollWheelZoom: false});\n\n    // Add Proj4 configurations\n    proj4.defs(\"EPSG:3943\", \"+proj=lcc +lat_1=42.25 +lat_2=43.75 +lat_0=43 +lon_0=3 +x_0=1700000 +y_0=2200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\");\n\n    let zoomOrigin = map.getZoom();\n    let allZonesLayer = L.featureGroup();\n    let allZonesMarkers = [];\n    let allProcessesLinks = {};\n\n    function zoneMarkerIconCSS(size) {\n      return {\n        'font-size': `${(size / 2) - 2}px`,\n        'width' : `${size - 2}px`,\n        'height' : `${size - 2}px`,\n        'line-height' : `${size - 2}px`,\n        'border-radius' : `${size / 2}px`\n      }\n    }\n\n    function processMarkerIconCSS(size) {\n      return {\n        'font-size': `${Math.round(size / 3)}px`,\n        'width' : `${size / 2}px`,\n        'height' : `${size / 2}px`,\n        'line-height' : `${size / 2}px`,\n        'border-radius' : `${size / 4}px`\n      }\n    }\n\n    function popupMaxwidth() {\n      if ($(window).width() < 600) {\n        return 260\n      } else {\n        return 640\n      }\n    }\n\n    function popupMinwidth() {\n      if ($(window).width() < 600) {\n        return 204\n      } else {\n        return 500\n      }\n    }\n\n    function isCoordinates(value, length) {\n      return Array.isArray(value) && (value.length === length) && !!value.reduce((a, v) => (a && (a !== null)));\n    }\n\n    function hasLocation(participatory_process) {\n      return (participatory_process.location !== undefined) && isCoordinates(participatory_process.location, 2);\n    }\n\n    function updateProcessMarkerPosition(marker, delta, zoom) {\n      if (marker.origin === undefined) {\n        return;\n      }\n      let oldPoint = map.project(L.latLng(marker.origin), zoom);\n\n      let radius = ( delta / 2.5 ) + ( marker.getRadius() / 1.75 ) ;\n      let newPoint = L.point(\n          oldPoint.x + ( radius * Math.cos( Math.PI / 4 ) ),\n          oldPoint.y - ( radius * Math.sin( Math.PI / 4 ) )\n      );\n      marker._latlng = map.unproject(newPoint, zoom);\n    }\n\n    function calculateIconSize() {\n      const delta = Math.round(1.75 * (map.getZoom()));\n      return (delta + 2) * 2;\n    }\n\n    function tmpl(participatoryProcess, linkTxt) {\n      return `\n            <div class=\"map-info__content homepage_interactive_map\">\n              <h3>${participatoryProcess.title}</h3>\n              <div id=\"bodyContent\">\n                <div class=\"card__datetime\">\n                  <div class=\"card__datetime__date\">\n                    ${participatoryProcess.start_date} - ${participatoryProcess.end_date}\n                  </div>\n                </div>\n                <div class=\"map-info__button\">\n                  <a href=\"${participatoryProcess.link}\" class=\"button button--sc\">\n                    ${linkTxt}\n                  </a>\n                </div>\n              </div>\n            </div>\n      `\n    }\n\n\n    L.tileLayer.here({\n      apiKey: here_api_key,\n      scheme: \"normal.day.grey\"\n    }, {continuousWorld: true}).addTo(map);\n\n    map.createPane(\"processPane\").style.zIndex = 610;\n    let allProcessesLayer = L.markerClusterGroup({\n      clusterPane: \"processPane\",\n      zoomToBoundsOnClick: false,\n      removeOutsideVisibleBounds: true,\n      spiderfyDistanceMultiplier: 2,\n      chunkedLoading: true,\n      showCoverageOnHover: false,\n      maxClusterRadius: 40,\n      spiderLegPolylineOptions: {\n        weight: 2,\n        color: getComputedStyle(document.documentElement).getPropertyValue('--primary'),\n        opacity: polyLineColor\n      },\n      iconCreateFunction: (cluster) => {\n        let actualIconSize = ( map.getZoom() > zoomOrigin ) ? calculateIconSize() : iconSize;\n\n        let style = Object.entries(processMarkerIconCSS(actualIconSize)).map(\n          (v) => `${v[0]}: ${v[1]};`\n        ).join(\" \");\n\n        return new L.DivIcon({\n          html: '<div style=\"' + style + '\">' + cluster.getChildCount() + '</div>',\n          className: 'marker-cluster',\n          iconSize: new L.Point(actualIconSize / 2, actualIconSize / 2)\n        });\n      }\n    });\n\n    // Convert data from GeoJSON\n    const geoJsonLayer = L.Proj.geoJson(geoJson, {\n      style: (feature) => {\n        return {\n          interactive: false,\n          stroke: true,\n          color: strokeColor,\n          weight: strokeWeight,\n          fillColor: feature.color,\n          fillOpacity: colorOpacity\n        }\n      }\n    });\n\n    // We parsed the data to generate advanced layers configuration\n    geoJsonLayer.eachLayer((layer) => {\n      let { feature } = layer;\n      let zoneLayer = L.featureGroup();\n\n      // Zone = Assembly with scope\n\n      // Base zone polygon\n      zoneLayer.addLayer(layer);\n\n      zoneLayer.on(\"mouseover\", function() {\n        this.setStyle({\n          fillOpacity: hoverColorOpacity\n        });\n      });\n\n      zoneLayer.on(\"mouseout\", function() {\n        this.setStyle({\n          fillOpacity: colorOpacity\n        });\n      });\n\n\n      // Zone label\n      const icon = L.divIcon({\n        className: 'district-number',\n        html: feature.code,\n        iconSize: new L.Point(iconSize, iconSize)\n      });\n      const centroid = L.PolylabelCentroid(L.GeoJSON.latLngsToCoords(layer._latlngs[0], 1), 1/1000);\n\n      let zoneMarker = L.marker(centroid, { icon });\n\n      allZonesMarkers.push(zoneMarker);\n      zoneLayer.addLayer(zoneMarker);\n\n      // Navigate to target page\n      zoneMarker.on(\"keypress\", (e) => {\n        if( e.originalEvent.key === \"Enter\" ) {\n          return window.location = feature.link;\n        }\n      });\n\n      // Navigate to target page if not double click\n      zoneMarker.on(\"click\", (e) => {\n        clickTimer = setTimeout(() => {\n          if (!clickPrevent) {\n            return window.location = feature.link;\n          }\n          clickPrevent = false;\n        }, clickDelay);\n      });\n\n      // Zoom to Polygone / Zone\n      zoneMarker.on(\"dblclick\", (e) => {\n        clearTimeout(clickTimer);\n        clickPrevent = true;\n        map.fitBounds(zoneLayer.getBounds(), {\n          padding: [25, 25]\n        });\n      });\n\n      // Manage linked participatory processes\n      feature.participatory_processes.forEach((participatory_process) => {\n\n        // Filling the registry links\n        if(Object.keys(allProcessesLinks).includes(participatory_process.id.toString())) {\n          allProcessesLinks[participatory_process.id.toString()].push(layer);\n          // Process with location are only displayed once\n          if( hasLocation(participatory_process) ) { return }\n        } else {\n          allProcessesLinks[participatory_process.id.toString()] = [layer];\n        }\n\n        let marker = new L.circleMarker(\n          // marker is placed on its location or the center of the assembly\n          hasLocation(participatory_process) ? participatory_process.location : centroid,\n          {\n            pane: \"processPane\",\n            radius: Math.round(iconSize / 4),\n            weight: 0,\n            fillOpacity: 1,\n            fillColor: getComputedStyle(document.documentElement).getPropertyValue('--primary'),\n          }\n        );\n\n        let node = document.createElement(\"div\");\n        $(node).html((tmpl(participatory_process, $viewParticipatoryProcess.val())));\n\n        marker.bindPopup(node, {\n          maxwidth: popupMaxwidth(),\n          minWidth: popupMinwidth(),\n          keepInView: true,\n          className: \"interactive-map-info\"\n        }).openPopup();\n\n        marker.participatory_process_data = participatory_process;\n        marker.origin = centroid;\n\n        // Add marker to marker cluster group\n        allProcessesLayer.addLayer(marker);\n      });\n\n      // Add zone to layer group\n      allZonesLayer.addLayer(zoneLayer);\n    });\n\n    // Add zones to map\n    allZonesLayer.addTo(map);\n\n    // Map is centered on all the zone\n    map.fitBounds(allZonesLayer.getBounds(), {\n      padding: [25, 25]\n    });\n\n    // Update the starting zoom\n    zoomOrigin = map.getZoom();\n\n\n    // Now, all the element are actually projected on the map\n    allProcessesLayer.eachLayer((marker) => {\n\n      // Each participatory process should highlight its linked assemblies / zones\n      let linked = allProcessesLinks[marker.participatory_process_data.id.toString()];\n\n      linked.forEach((layer) => {\n        marker.on(\"mouseover\", function() {\n          layer.bringToFront().setStyle({\n            fillOpacity: hoverColorOpacity,\n            color: getComputedStyle(document.documentElement).getPropertyValue('--primary'),\n            weight: 2\n          });\n        });\n\n        marker.on(\"mouseout\", function() {\n          layer.bringToBack().setStyle({\n            fillOpacity: colorOpacity,\n            color: strokeColor,\n            weight: strokeWeight\n          });\n        });\n      });\n\n      // Translate the marker centered on the zone outside the zone label\n      // ( like an notification badge )\n      if(!hasLocation(marker.participatory_process_data)) {\n        updateProcessMarkerPosition(marker, iconSize, map.getZoom());\n      }\n    });\n\n    // Map zoom events\n    map.on('zoomstart', (e) => {\n      $('#interactive_map .leaflet-process-pane').hide();\n    });\n\n    map.on('zoomend', (e) => {\n      let actualIconSize = iconSize;\n\n      if (map.getZoom() > zoomOrigin) {\n        actualIconSize = calculateIconSize()\n        $('#interactive_map .district-number').css(zoneMarkerIconCSS(actualIconSize));\n      } else {\n        $('#interactive_map .district-number').css(zoneMarkerIconCSS(iconSize));\n      }\n\n      allZonesMarkers.forEach((marker) => {\n        let icon = marker.options.icon;\n        icon.options.iconSize = new L.Point(actualIconSize, actualIconSize);\n        marker.setIcon(icon);\n      });\n\n      allProcessesLayer.eachLayer((marker) => {\n        if(!hasLocation(marker.participatory_process_data)) {\n          updateProcessMarkerPosition(marker, actualIconSize, map.getZoom());\n        }\n      });\n\n      allProcessesLayer.refreshClusters();\n      $('#interactive_map .leaflet-process-pane').show();\n    });\n    // Add markers to map\n    allProcessesLayer.addTo(map);\n  });\n})(window);\n","$(document).ready(() => {\n    let $geolocalized = $(\"#scope_geolocalized\");\n    let $geojson = $(\"#geojson\");\n\n    function toggleSubField(field, subfield) {\n        if (field.is(\":checked\")) {\n            subfield.show();\n        } else {\n            subfield.hide();\n        }\n    }\n\n    $geolocalized.on(\"click\", function () {\n            toggleSubField($geolocalized, $geojson);\n        }\n    );\n\n    toggleSubField($geolocalized, $geojson);\n});\n","// Leaflet Polylabel Centroid\n// USAGE : L.PolylabelCentroid(coordinates, precision, debug)\n// + coordinates (required) : GeoJSON Polygon coordinates\n// + precision (optional) : default to 1.0, decrease for better precision (like 1/1000)\n// + debug (optional) : activate debug coinsole output\n\n// ----------------------------------------------------------------------------\n\n// TinyQueue\n// source : https://github.com/mourner/tinyqueue/blob/3a212a4f73ad9c39caeb27922c86ff4115e59c66/index.js\n\nclass Queue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\n// ----------------------------------------------------------------------------\n\n// Polylabel\n// source : https://github.com/mapbox/polylabel/blob/6854a05e221fac42b9e025cbf356b2a057f212aa/polylabel.js\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nfunction polylabel(polygon, precision, debug) {\n    precision = precision || 1.0;\n\n    // find the bounding box of the outer ring\n    var minX, minY, maxX, maxY;\n    for (var i = 0; i < polygon[0].length; i++) {\n        var p = polygon[0][i];\n        if (!i || p[0] < minX) minX = p[0];\n        if (!i || p[1] < minY) minY = p[1];\n        if (!i || p[0] > maxX) maxX = p[0];\n        if (!i || p[1] > maxY) maxY = p[1];\n    }\n\n    var width = maxX - minX;\n    var height = maxY - minY;\n    var cellSize = Math.min(width, height);\n    var h = cellSize / 2;\n\n    if (cellSize === 0) return [minX, minY];\n\n    // a priority queue of cells in order of their \"potential\" (max distance to polygon)\n    var cellQueue = new Queue(undefined, compareMax);\n\n    // cover polygon with initial cells\n    for (var x = minX; x < maxX; x += cellSize) {\n        for (var y = minY; y < maxY; y += cellSize) {\n            cellQueue.push(new Cell(x + h, y + h, h, polygon));\n        }\n    }\n\n    // take centroid as the first best guess\n    var bestCell = getCentroidCell(polygon);\n\n    // special case for rectangular polygons\n    var bboxCell = new Cell(minX + width / 2, minY + height / 2, 0, polygon);\n    if (bboxCell.d > bestCell.d) bestCell = bboxCell;\n\n    var numProbes = cellQueue.length;\n\n    while (cellQueue.length) {\n        // pick the most promising cell from the queue\n        var cell = cellQueue.pop();\n\n        // update the best cell if we found a better one\n        if (cell.d > bestCell.d) {\n            bestCell = cell;\n            if (debug) console.log('found best %d after %d probes', Math.round(1e4 * cell.d) / 1e4, numProbes);\n        }\n\n        // do not drill down further if there's no chance of a better solution\n        if (cell.max - bestCell.d <= precision) continue;\n\n        // split the cell into four cells\n        h = cell.h / 2;\n        cellQueue.push(new Cell(cell.x - h, cell.y - h, h, polygon));\n        cellQueue.push(new Cell(cell.x + h, cell.y - h, h, polygon));\n        cellQueue.push(new Cell(cell.x - h, cell.y + h, h, polygon));\n        cellQueue.push(new Cell(cell.x + h, cell.y + h, h, polygon));\n        numProbes += 4;\n    }\n\n    if (debug) {\n        console.log('num probes: ' + numProbes);\n        console.log('best distance: ' + bestCell.d);\n    }\n\n    return [bestCell.x, bestCell.y];\n}\n\nfunction compareMax(a, b) {\n    return b.max - a.max;\n}\n\nfunction Cell(x, y, h, polygon) {\n    this.x = x; // cell center x\n    this.y = y; // cell center y\n    this.h = h; // half the cell size\n    this.d = pointToPolygonDist(x, y, polygon); // distance from cell center to polygon\n    this.max = this.d + this.h * Math.SQRT2; // max distance to polygon within a cell\n}\n\n// signed distance from point to polygon outline (negative if point is outside)\nfunction pointToPolygonDist(x, y, polygon) {\n    var inside = false;\n    var minDistSq = Infinity;\n\n    for (var k = 0; k < polygon.length; k++) {\n        var ring = polygon[k];\n\n        for (var i = 0, len = ring.length, j = len - 1; i < len; j = i++) {\n            var a = ring[i];\n            var b = ring[j];\n\n            if ((a[1] > y !== b[1] > y) &&\n                (x < (b[0] - a[0]) * (y - a[1]) / (b[1] - a[1]) + a[0])) inside = !inside;\n\n            minDistSq = Math.min(minDistSq, getSegDistSq(x, y, a, b));\n        }\n    }\n\n    return (inside ? 1 : -1) * Math.sqrt(minDistSq);\n}\n\n// get polygon centroid\nfunction getCentroidCell(polygon) {\n    var area = 0;\n    var x = 0;\n    var y = 0;\n    var points = polygon[0];\n\n    for (var i = 0, len = points.length, j = len - 1; i < len; j = i++) {\n        var a = points[i];\n        var b = points[j];\n        var f = a[0] * b[1] - b[0] * a[1];\n        x += (a[0] + b[0]) * f;\n        y += (a[1] + b[1]) * f;\n        area += f * 3;\n    }\n    if (area === 0) return new Cell(points[0][0], points[0][1], 0, polygon);\n    return new Cell(x / area, y / area, 0, polygon);\n}\n\n// get squared distance from a point to a segment\nfunction getSegDistSq(px, py, a, b) {\n\n    var x = a[0];\n    var y = a[1];\n    var dx = b[0] - x;\n    var dy = b[1] - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((px - x) * dx + (py - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = b[0];\n            y = b[1];\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = px - x;\n    dy = py - y;\n\n    return dx * dx + dy * dy;\n}\n\n// ----------------------------------------------------------------------------\n\nL.PolylabelCentroid = function(polygon, precision, debug) {\n    return polylabel(polygon, precision, debug).reverse();\n}\n","// From https://github.com/pathable/truncate/\n\n(function($) {\n\n  // Matches trailing non-space characters.\n  var chop = /(\\s*\\S+|\\s)$/;\n\n  // Matches the first word in the string.\n  var start = /^(\\S*)/;\n\n  // Return a truncated html string.  Delegates to $.fn.truncate.\n  $.truncate = function(html, options) {\n    return $('<div></div>').append(html).truncate(options).html();\n  };\n\n  // Truncate the contents of an element in place.\n  $.fn.truncate = function(options) {\n    if ($.isNumeric(options)) options = { length: options };\n    var o = $.extend({}, $.truncate.defaults, options);\n\n    return this.each(function() {\n      var self = $(this);\n\n      if (o.noBreaks) self.find('br').replaceWith(' ');\n\n      var text = self.text();\n      var excess = text.length - o.length;\n\n      if (o.stripTags) self.text(text);\n\n      // Chop off any partial words if appropriate.\n      if (o.words && excess > 0) {\n        var truncated = text.slice(0, o.length).replace(chop, '').length;\n\n        if (o.keepFirstWord && truncated === 0) {\n          excess = text.length - start.exec(text)[0].length - 1;\n        } else {\n          excess = text.length - truncated - 1;\n        }\n      }\n\n      if (excess < 0 || !excess && !o.truncated) return;\n\n      // Iterate over each child node in reverse, removing excess text.\n      $.each(self.contents().get().reverse(), function(i, el) {\n        var $el = $(el);\n        var text = $el.text();\n        var length = text.length;\n\n        // If the text is longer than the excess, remove the node and continue.\n        if (length <= excess) {\n          o.truncated = true;\n          excess -= length;\n          $el.remove();\n          return;\n        }\n\n        // Remove the excess text and append the ellipsis.\n        if (el.nodeType === 3) {\n          // should we finish the block anyway?\n          if (o.finishBlock) {\n            $(el.splitText(length)).replaceWith(o.ellipsis);\n          } else {\n            $(el.splitText(length - excess - 1)).replaceWith(o.ellipsis);\n          }\n          return false;\n        }\n\n        // Recursively truncate child nodes.\n        $el.truncate($.extend(o, { length: length - excess }));\n        return false;\n      });\n    });\n  };\n\n  $.truncate.defaults = {\n\n    // Strip all html elements, leaving only plain text.\n    stripTags: false,\n\n    // Only truncate at word boundaries.\n    words: false,\n\n    // When 'words' is active, keeps the first word in the string\n    // even if it's longer than a target length.\n    keepFirstWord: false,\n\n    // Replace instances of <br> with a single space.\n    noBreaks: false,\n\n    // if true always truncate the content at the end of the block.\n    finishBlock: false,\n\n    // The maximum length of the truncated html.\n    length: Infinity,\n\n    // The character to use as the ellipsis.  The word joiner (U+2060) can be\n    // used to prevent a hanging ellipsis, but displays incorrectly in Chrome\n    // on Windows 7.\n    // http://code.google.com/p/chromium/issues/detail?id=68323\n    ellipsis: '\\u2026' // '\\u2060\\u2026'\n\n  };\n\n})(jQuery);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t8466: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkapp\"] = self[\"webpackChunkapp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [7337,3113], function() { return __webpack_require__(18662); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","L","TileLayer","HERE","extend","options","subdomains","minZoom","maxZoom","scheme","resource","mapId","format","appId","appCode","useCIT","useHTTPS","language","language2","initialize","schemeStart","setOptions","this","split","tileResolution","params","encodeURIComponent","apiKey","push","path","join","attributionPath","baseUrl","tileServer","indexOf","protocol","tileUrl","_attributionUrl","Util","template","prototype","call","_attributionText","onAdd","map","_attributionBBoxes","_fetchAttributionBBoxes","onRemove","_map","attributionControl","removeAttribution","off","_findCopyrightBBox","xmlhttp","XMLHttpRequest","onreadystatechange","bind","readyState","status","_parseAttributionBBoxes","JSON","parse","responseText","open","send","json","providers","normal","i","length","boxes","j","box","latLngBounds","on","_attributionProviders","visibleProviders","zoom","getZoom","visibleBounds","getBounds","minLevel","maxLevel","intersects","attributions","provider","alt","label","attributionText","addAttribution","tileLayer","here","opts","SVGIcon","fillColor","opacity","_createPathDescription","_createCircle","_createSVG","_createPath","circle","text","_createText","className","style","iconSize","x","y","getComputedStyle","document","documentElement","getPropertyValue","fillOpacity","window","$","ready","here_api_key","data","geoJson","$viewParticipatoryProcess","clickTimer","clickPrevent","strokeColor","scrollWheelZoom","proj4","zoomOrigin","allZonesLayer","allZonesMarkers","allProcessesLinks","zoneMarkerIconCSS","size","hasLocation","participatory_process","undefined","location","value","Array","isArray","reduce","a","v","updateProcessMarkerPosition","marker","delta","origin","oldPoint","project","radius","getRadius","newPoint","Math","cos","PI","sin","_latlng","unproject","calculateIconSize","round","continuousWorld","addTo","createPane","zIndex","allProcessesLayer","clusterPane","zoomToBoundsOnClick","removeOutsideVisibleBounds","spiderfyDistanceMultiplier","chunkedLoading","showCoverageOnHover","maxClusterRadius","spiderLegPolylineOptions","weight","color","iconCreateFunction","cluster","actualIconSize","Object","entries","html","getChildCount","feature","interactive","stroke","eachLayer","layer","zoneLayer","addLayer","setStyle","icon","code","centroid","_latlngs","zoneMarker","e","originalEvent","key","link","setTimeout","clearTimeout","fitBounds","padding","participatory_processes","forEach","keys","includes","id","toString","participatoryProcess","linkTxt","pane","node","createElement","val","title","start_date","end_date","bindPopup","maxwidth","width","minWidth","keepInView","openPopup","participatory_process_data","bringToFront","bringToBack","hide","css","setIcon","refreshClusters","show","$geolocalized","$geojson","toggleSubField","field","subfield","is","Queue","compare","defaultCompare","_down","item","_up","top","bottom","pop","pos","parent","current","halfLength","left","best","right","b","polylabel","polygon","precision","debug","minX","minY","maxX","maxY","p","height","cellSize","min","h","cellQueue","compareMax","Cell","bestCell","area","points","len","f","getCentroidCell","bboxCell","d","numProbes","cell","console","log","max","inside","minDistSq","Infinity","k","ring","getSegDistSq","sqrt","pointToPolygonDist","SQRT2","px","py","dx","dy","t","PolylabelCentroid","reverse","chop","start","truncate","append","fn","isNumeric","o","defaults","each","self","noBreaks","find","replaceWith","excess","stripTags","words","truncated","slice","replace","keepFirstWord","exec","contents","get","el","$el","remove","nodeType","finishBlock","splitText","ellipsis","jQuery","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","O","result","chunkIds","priority","notFulfilled","fulfilled","every","splice","r","definition","defineProperty","enumerable","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}