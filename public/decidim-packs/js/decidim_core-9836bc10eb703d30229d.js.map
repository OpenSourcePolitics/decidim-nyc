{"version":3,"file":"js/decidim_core-9836bc10eb703d30229d.js","mappings":"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","sources":["webpack://app/webpack/runtime/chunk loaded","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/images/ sync ^\\.\\/.*$","webpack://app/./app/packs/images/ sync ^\\.\\/.*$","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/input_multiple_mentions.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/input_character_counter.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/dropdowns_menus.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/icon.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/external_link.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/external_domain_warning.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/form_validator.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-comments/app/packs/src/decidim/comments/comments.component.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/input_emoji.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/dialog_mode.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/focus_guard.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/index.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/back_to_list.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/clipboard.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/append_elements.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/form_remote.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/conferences.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/results_listing.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/impersonation.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/entrypoints/decidim_core.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/account_form.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/append_redirect_url_to_modals.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/callout.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/conversations.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/diff_mode_dropdown.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/floating_help.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/form_attachments.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/history.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/identity_selector_dialog.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/input_autojump.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/notifications.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/represent_user_group.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/responsive_horizontal_tabs.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/security/selfxss_warning.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/start_conversation_dialog.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/tooltip_keep_on_hover.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/user_registrations.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/vendor/modernizr.js","webpack://app/../../../../.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/bundler/gems/decidim-540e5d88e8b8/decidim-core/app/packs/src/decidim/vendor/social-share-button.js","webpack://app/./app/packs/src/decidim/decidim_application.js","webpack://app/webpack/bootstrap","webpack://app/webpack/runtime/compat get default export","webpack://app/webpack/runtime/define property getters","webpack://app/webpack/runtime/global","webpack://app/webpack/runtime/hasOwnProperty shorthand","webpack://app/webpack/runtime/node module decorator","webpack://app/webpack/runtime/publicPath","webpack://app/webpack/runtime/jsonp chunk loading","webpack://app/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var map = {\n\t\"./decidim/avatar-multiuser.png\": 84467,\n\t\"./decidim/brands/google.svg\": 79843,\n\t\"./decidim/cc-badge.png\": 83126,\n\t\"./decidim/decidim-logo.svg\": 69553,\n\t\"./decidim/default-avatar.svg\": 42231,\n\t\"./decidim/gamification/badges/decidim_gamification_badges_followers.svg\": 36468,\n\t\"./decidim/gamification/badges/decidim_gamification_badges_invitations.svg\": 28870,\n\t\"./decidim/icons.svg\": 55320,\n\t\"./decidim/pattern.png\": 4582,\n\t\"./decidim/placeholder.jpg\": 37121,\n\t\"./decidim/vendor/leaflet/layers-2x.png\": 62373,\n\t\"./decidim/vendor/leaflet/layers.png\": 49722,\n\t\"./decidim/vendor/leaflet/marker-icon-2x.png\": 44704,\n\t\"./decidim/vendor/leaflet/marker-icon.png\": 16050,\n\t\"./decidim/vendor/leaflet/marker-shadow.png\": 42982,\n\t\"./decidim/vendor/social-share-button/delicious.svg\": 80407,\n\t\"./decidim/vendor/social-share-button/douban.svg\": 84893,\n\t\"./decidim/vendor/social-share-button/email.svg\": 80526,\n\t\"./decidim/vendor/social-share-button/facebook.svg\": 51311,\n\t\"./decidim/vendor/social-share-button/google_bookmark.svg\": 67121,\n\t\"./decidim/vendor/social-share-button/google_plus.svg\": 69865,\n\t\"./decidim/vendor/social-share-button/hacker_news.svg\": 38884,\n\t\"./decidim/vendor/social-share-button/linkedin.svg\": 39722,\n\t\"./decidim/vendor/social-share-button/odnoklassniki.svg\": 76707,\n\t\"./decidim/vendor/social-share-button/pinterest.svg\": 40887,\n\t\"./decidim/vendor/social-share-button/qq.svg\": 31279,\n\t\"./decidim/vendor/social-share-button/reddit.svg\": 54077,\n\t\"./decidim/vendor/social-share-button/telegram.svg\": 34815,\n\t\"./decidim/vendor/social-share-button/tumblr.svg\": 3743,\n\t\"./decidim/vendor/social-share-button/twitter.svg\": 34760,\n\t\"./decidim/vendor/social-share-button/vkontakte.svg\": 39670,\n\t\"./decidim/vendor/social-share-button/wechat.svg\": 43149,\n\t\"./decidim/vendor/social-share-button/weibo.svg\": 91123,\n\t\"./decidim/vendor/social-share-button/whatsapp.svg\": 21234,\n\t\"./decidim/vendor/social-share-button/xing.svg\": 80305\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 73028;","var map = {\n\t\"./FCboutons-10.png\": 87310,\n\t\"./FCboutons-10@2x.png\": 25708,\n\t\"./decidim/cc-by-sa--inv.svg\": 47027,\n\t\"./decidim/cc-by-sa.svg\": 55974,\n\t\"./decidim/decidim-logo-mobile--inv.svg\": 22604,\n\t\"./decidim/decidim-logo-mobile.svg\": 99151,\n\t\"./decidim/decidim-logo.svg\": 69349,\n\t\"./favicon.ico\": 18556,\n\t\"./france-connect-logo-mono.svg\": 22407,\n\t\"./france-connect-logo.svg\": 95321,\n\t\"./nyc-for-developers-logo.svg\": 43133,\n\t\"./nyc-logo.png\": 72959,\n\t\"./nyc-logo.svg\": 46352,\n\t\"./nyc-logo@2x.png\": 9940,\n\t\"./nyc_white.png\": 62495\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 48999;","/* eslint no-unused-vars: 0 */\nimport Tribute from \"src/decidim/vendor/tribute\"\n\nconst updateSubmitButton = ($fieldContainer, $selectedItems) => {\n  const $form = $fieldContainer.closest(\"form\");\n  if ($form.length < 1) {\n    return;\n  }\n\n  const $submitButton = $form.find(\"button[type='submit']\");\n  if ($selectedItems.children().length === 0) {\n    $submitButton.prop(\"disabled\", true);\n  } else {\n    $submitButton.prop(\"disabled\", false);\n  }\n}\n\n$(() => {\n  const $multipleMentionContainer = $(\".js-multiple-mentions\");\n  const $multipleMentionRecipientsContainer = $(\".js-multiple-mentions-recipients\");\n  const nodatafound = $multipleMentionContainer.attr(\"data-noresults\");\n  const directMessageDisabled = $multipleMentionContainer.attr(\"data-direct-messages-disabled\");\n\n  const maxRecipients = 9;\n  let mentionsCount = 0;\n\n  /* eslint no-unused-vars: 0 */\n  let deleteRecipient = function(element) {\n    // Remove recipient\n    element.remove();\n    mentionsCount -= 1;\n    // In case mentions container disable, enable again\n    if ($multipleMentionContainer.prop(\"disabled\")) {\n      $multipleMentionContainer.prop(\"disabled\", false);\n    }\n  };\n\n  let noMatchTemplate = null\n  if (nodatafound) {\n    noMatchTemplate = () => `<li>${nodatafound}</li>`;\n  }\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds\n  /* eslint no-invalid-this: 0 */\n  /* eslint consistent-this: 0 */\n  /* eslint prefer-reflect: 0 */\n  const debounce = function(callback, wait) {\n    let timeout = null;\n    return (...args) => {\n      const context = this;\n      clearTimeout(timeout);\n      timeout = setTimeout(() => callback.apply(context, args), wait);\n    };\n  }\n\n  /* eslint no-use-before-define: [\"error\", { \"variables\": false }]*/\n  /* eslint no-unused-expressions: 0 */\n  let remoteSearch = function(text, cb) {\n    let exclusionIds = [];\n    $multipleMentionRecipientsContainer.find(\"input[name^='recipient_id']\").each(function(index) {\n      exclusionIds.push($(this).val());\n    });\n    let query = `{users(filter:{wildcard:\"${text}\",excludeIds:[${exclusionIds}]}){id,nickname,name,avatarUrl,__typename,...on UserGroup{membersCount},...on User{directMessagesEnabled}}}`;\n    $.post(\"/api\", {query: query}).\n      then((response) => {\n        let data = response.data.users || {};\n        cb(data)\n      }).fail(function() {\n        cb([])\n      }).always(() => {\n      // This function runs Tribute every single time you type something\n      // So we must evalute DOM properties after each\n        const $parent = $(tribute.current.element).parent();\n        $parent.addClass(\"is-active\");\n\n        // We need to move the container to the wrapper selected\n        const $tribute = $parent.find(\".tribute-container\");\n        // Remove the inline styles, relative to absolute positioning\n        $tribute.removeAttr(\"style\");\n      })\n  };\n\n  // tribute.js docs - http://github.com/zurb/tribute\n  /* global Tribute*/\n  /* eslint multiline-ternary: 0 */\n  /* eslint no-ternary: 0 */\n  let tribute = new Tribute({\n    autocompleteMode: true,\n    // avoid overloading the API if the user types too fast\n    values: debounce(function (text, cb) {\n      remoteSearch(text, (users) => cb(users));\n    }, 250),\n    positionMenu: true,\n    menuContainer: null,\n    menuItemLimit: 10,\n    fillAttr: \"nickname\",\n    noMatchTemplate: noMatchTemplate,\n    lookup: (item) => item.nickname + item.name,\n    selectTemplate: function(item) {\n      mentionsCount += 1;\n      if (mentionsCount >= maxRecipients) {\n        $multipleMentionContainer.prop(\"disabled\", true);\n      }\n      if (typeof item === \"undefined\") {\n        return null;\n      }\n      // Set recipient profile view\n      let recipientLabel = `\n        <label style=\"padding: 0 0 10px 0\">\n          <img src=\"${item.original.avatarUrl}\" alt=\"${item.original.name}\" height=\"35\" width=\"35\" style=\"border-radius: 50%;\" aria-label=\"${item.original.name}\">&nbsp;\n          <b>${item.original.name}</b>\n          <input type=\"hidden\" name=\"recipient_id[]\" value=\"${item.original.id}\">\n          <div class=\"float-right\">&times;</div>\n        </label>\n      `;\n\n      // Append new recipient to DOM\n      if (item.original.__typename === \"UserGroup\" || item.original.directMessagesEnabled === \"true\") {\n        $multipleMentionRecipientsContainer.append($(recipientLabel));\n        $multipleMentionContainer.val(\"\");\n      }\n\n      // In order to add tabindex accessibility control to each recipient in list\n      $multipleMentionRecipientsContainer.find(\"label\").each(function(index) {\n        $(this).find(\"div\").attr(\"tabIndex\", 0).attr(\"aria-controls\", 0).attr(\"aria-label\", \"Close\").attr(\"role\", \"tab\");\n      });\n\n      updateSubmitButton($multipleMentionContainer, $multipleMentionRecipientsContainer);\n      // Clean input\n      return \"\";\n    },\n    menuItemTemplate: function(item) {\n      let svg = \"\";\n      let enabled = item.original.directMessagesEnabled === \"true\";\n      if (window.Decidim && item.original.__typename === \"UserGroup\") {\n        enabled = true;\n        const iconsPath = window.Decidim.config.get(\"icons_path\");\n        svg = `<span class=\"is-group\">${item.original.membersCount}x <svg class=\"icon--members icon\"><use href=\"${iconsPath}#icon-members\"/></svg></span>`;\n      }\n      let disabledElementClass = enabled ? \"\" : \"disabled-tribute-element\";\n      let disabledElementMessage = enabled ? \"\" : `&nbsp;<span class=\"disabled-tribute-element-info\">${directMessageDisabled}</span>`;\n      return `<div class=\"tribute-item ${item.original.__typename} ${disabledElementClass}\">\n      <span class=\"author__avatar\"><img src=\"${item.original.avatarUrl}\" alt=\"author-avatar\"></span>\n        <strong>${item.original.nickname}</strong>\n        <small>${item.original.name}</small>\n        ${svg}\n        ${disabledElementMessage}\n      </div>`;\n    }\n  });\n\n  let setupEvents = function($element) {\n    updateSubmitButton($multipleMentionContainer, $multipleMentionRecipientsContainer);\n\n    // DOM manipulation\n    $element.on(\"focusin\", (event) => {\n      // Set the parent container relative to the current element\n      tribute.menuContainer = event.target.parentNode;\n    });\n    $element.on(\"focusout\", (event) => {\n      let $parent = $(event.target).parent();\n\n      if ($parent.hasClass(\"is-active\")) {\n        $parent.removeClass(\"is-active\");\n      }\n    });\n    $element.on(\"input\", (event) => {\n      let $parent = $(event.target).parent();\n\n      if (tribute.isActive) {\n        // We need to move the container to the wrapper selected\n        let $tribute = $(\".tribute-container\");\n        $tribute.appendTo($parent);\n        // Remove the inline styles, relative to absolute positioning\n        $tribute.removeAttr(\"style\");\n        // Parent adaptation\n        $parent.addClass(\"is-active\");\n      } else {\n        $parent.removeClass(\"is-active\");\n      }\n    });\n  };\n\n  let setupRecipientEvents = function($element) {\n    // Allow delete with click on element in recipients list\n    $element.on(\"click\", (event) => {\n      let $target = event.target.parentNode;\n      if ($target.tagName === \"LABEL\") {\n        deleteRecipient($target);\n        updateSubmitButton($multipleMentionContainer, $multipleMentionRecipientsContainer);\n      }\n    });\n    // Allow delete with keypress on element in recipients list\n    $element.on(\"keypress\", (event) => {\n      let $target = event.target.parentNode;\n      if ($target.tagName === \"LABEL\") {\n        deleteRecipient($target);\n        updateSubmitButton($multipleMentionContainer, $multipleMentionRecipientsContainer);\n      }\n    });\n  };\n\n  // Call only if we have containter to bind events to\n  if ($multipleMentionContainer.length) {\n    setupEvents($multipleMentionContainer);\n    tribute.attach($multipleMentionContainer);\n  }\n\n  // Call only if we have containter to bind events to\n  if ($multipleMentionRecipientsContainer.length) {\n    setupRecipientEvents($multipleMentionRecipientsContainer);\n  }\n});\n","const COUNT_KEY = \"%count%\";\nconst DEFAULT_MESSAGES = {\n  charactersAtLeast: {\n    one: `at least ${COUNT_KEY} character`,\n    other: `at least ${COUNT_KEY} characters`\n  },\n  charactersLeft: {\n    one: `${COUNT_KEY} character left`,\n    other: `${COUNT_KEY} characters left`\n  }\n};\nlet MESSAGES = DEFAULT_MESSAGES;\n\nexport default class InputCharacterCounter {\n  static configureMessages(messages) {\n    MESSAGES = $.extend(DEFAULT_MESSAGES, messages);\n  }\n\n  constructor(input) {\n    this.$input = input;\n    this.$target = $(this.$input.data(\"remaining-characters\"));\n    this.minCharacters = parseInt(this.$input.attr(\"minlength\"), 10);\n    this.maxCharacters = parseInt(this.$input.attr(\"maxlength\"), 10);\n\n    if (this.$target.length < 1) {\n      let targetId = null;\n      if (this.$input.attr(\"id\") && this.$input.attr(\"id\").length > 0) {\n        targetId = `${this.$input.attr(\"id\")}_characters`;\n      } else {\n        targetId = `characters_${Math.random().toString(36).substr(2, 9)}`;\n      }\n\n      this.$target = $(`<span id=\"${targetId}\" class=\"form-input-extra-before\" />`)\n\n      // If input is a hidden for WYSIWYG editor add it at the end\n      if (this.$input.parent().is(\".editor\")) {\n        this.$input.parent().after(this.$target);\n      }\n      // Prefix and suffix columns are wrapped in columns, so put the\n      // character counter before that.\n      else if (\n        this.$input.parent().is(\".columns\") &&\n        this.$input.parent().parent().is(\".row\")\n      ) {\n        this.$input.parent().parent().after(this.$target);\n      } else {\n        this.$input.after(this.$target);\n      }\n    }\n\n    if (this.$target.length > 0 && (this.maxCharacters > 0 || this.minCharacters > 0)) {\n      this.bindEvents();\n    }\n  }\n\n  bindEvents() {\n    // In WYSIWYG editors (Quill) we need to find the active editor from the\n    // DOM node. Quill has the experimental \"find\" method that should work\n    // fine in this case\n    if (Quill && this.$input.parent().is(\".editor\")) {\n      // Wait until the next javascript loop so Quill editors are created\n      setTimeout(() => {\n        const editor = Quill.find(this.$input.siblings(\".editor-container\")[0]);\n        editor.on(\"text-change\", () => {\n          this.updateStatus();\n        });\n      })\n    }\n    this.$input.on(\"keyup\", () => {\n      this.updateStatus();\n    });\n    if (this.$input.get(0) !== null) {\n      this.$input.get(0).addEventListener(\"emoji.added\", () => {\n        this.updateStatus();\n      });\n    }\n    this.updateStatus();\n  }\n\n  updateStatus() {\n    const numCharacters = this.$input.val().length;\n    const showMessages = [];\n\n    if (this.minCharacters > 0) {\n      let message = MESSAGES.charactersAtLeast.other;\n      if (this.minCharacters === 1) {\n        message = MESSAGES.charactersAtLeast.one;\n      }\n      showMessages.push(message.replace(COUNT_KEY, this.minCharacters));\n    }\n\n    if (this.maxCharacters > 0) {\n      const remaining = this.maxCharacters - numCharacters;\n      let message = MESSAGES.charactersLeft.other;\n      if (remaining === 1) {\n        message = MESSAGES.charactersLeft.one;\n      }\n      this.$input[0].dispatchEvent(\n        new CustomEvent(\"characterCounter\", {detail: {remaining: remaining}})\n      );\n      showMessages.push(message.replace(COUNT_KEY, remaining));\n    }\n\n    this.$target.text(showMessages.join(\", \"));\n  }\n}\n\nconst createCharacterCounter = ($input) => {\n  $input.data(\"remaining-characters-counter\", new InputCharacterCounter($input));\n}\n\n$(() => {\n  $(\"input[type='text'], textarea, .editor>input[type='hidden']\").each((_i, elem) => {\n    const $input = $(elem);\n\n    if (!$input.is(\"[minlength]\") && !$input.is(\"[maxlength]\")) {\n      return;\n    }\n\n    createCharacterCounter($input);\n  });\n});\n\nexport {InputCharacterCounter, createCharacterCounter};\n","/* eslint-disable require-jsdoc */\n\n// This will apply some fixes for the Foundation dropdown menu element\n// according to W3C instructions at:\n// https://www.w3.org/TR/wai-aria-practices/examples/menu-button/menu-button-links.html\n//\n// NOTE:\n// This needs to run AFTER Foundation has been initialized because those\n// initializers will affect the drop down menu elements.\nexport default function fixDropdownMenus() {\n  $(\"[data-dropdown-menu]\").each((_i, element) => {\n    // This will break navigation on macOS VoiceOver app since it will let the\n    // user to focus on the li element instead of the <a> element where we\n    // actually need the focus to be in.\n    $(\"li.is-dropdown-submenu-parent\", element).removeAttr(\"aria-haspopup\").removeAttr(\"aria-label\");\n    $(\"li.is-dropdown-submenu-parent > a:first\", element).removeAttr(\"aria-label\");\n    // Foundation marks the wrong role for the submenu elements\n    $(\"ul.is-dropdown-submenu\", element).attr(\"role\", \"menu\");\n  })\n}\n\n// Ensure the first element is always focused when a dropdown is opened as\n// this would not always happen when using a screen reader. If this is not\n// done, the screen reader will stay quiet when the menu opens which can lead\n// to the blind user not understanding the menu has opened.\n$(() => {\n  $(\"[data-dropdown-menu]\").on(\"show.zf.dropdownMenu\", (_i, element) => {\n    $(\"li:first > a\", element).focus();\n  });\n})\n","const DEFAULT_ATTRIBUTES = {\n  role: \"img\",\n  \"aria-hidden\": \"true\"\n};\n\n/**\n * Generates a Decidim icon element and returns it as a string.\n * @param {String} iconKey - the key of the icon to be generated\n * @param {Object} attributes - extra attributes to define for the icon SVG\n * @param {int} wait - number of milliseconds to wait before executing the function.\n * @private\n * @returns {Void} - Returns nothing.\n */\nexport default function icon(iconKey, attributes = {}) {\n  const iconAttributes = $.extend(DEFAULT_ATTRIBUTES, attributes);\n  const title = iconAttributes.title || iconAttributes.ariaLabel;\n  Reflect.deleteProperty(iconAttributes, \"title\");\n\n  const htmlAttributes = {\n    \"class\": `icon icon--${iconKey}`\n  };\n  Object.keys(iconAttributes).forEach((key) => {\n    // Convert the key to dash-format.\n    const newKey = key.replace(/([A-Z])/g, (ucw) => `-${ucw[0].toLowerCase()}`);\n    if (typeof htmlAttributes[key] === \"undefined\") {\n      htmlAttributes[newKey] = iconAttributes[key];\n    } else {\n      htmlAttributes[newKey] = `${htmlAttributes[newKey]} ${iconAttributes[key]}`;\n    }\n  });\n\n  const iconsPath =  window.Decidim.config.get(\"icons_path\");\n  const elHtml = `<svg><use href=\"${iconsPath}#icon-${iconKey}\"></use></svg>`;\n  const $el = $(elHtml);\n  if (title) {\n    $el.prepend(`<title>${title}</title>`);\n  } else {\n    // This keeps accessibility audit tools happy\n    $el.prepend(`<title>${iconKey}</title>`);\n    // Force hidden if title is not defined\n    htmlAttributes[\"aria-hidden\"] = \"true\";\n  }\n  $el.attr(htmlAttributes);\n\n  return $(\"<div />\").append($el).html();\n}\n","import icon from \"src/decidim/icon\"\n\nconst EXCLUDE_CLASSES = [\n  \"card--list__data__icon\",\n  \"footer-social__icon\",\n  \"logo-cityhall\"\n];\nconst EXCLUDE_ANCESTOR_CLASSES = [\n  \"editor-container\"\n]\nconst EXCLUDE_REL = [\"license\", \"decidim\"];\n\nconst DEFAULT_MESSAGES = {\n  externalLink: \"External link\"\n};\nlet MESSAGES = DEFAULT_MESSAGES;\n\nexport default class ExternalLink {\n  static configureMessages(messages) {\n    MESSAGES = $.extend(DEFAULT_MESSAGES, messages);\n  }\n\n  constructor(link) {\n    this.$link = link;\n\n    this.setup();\n  }\n\n  setup() {\n    if (EXCLUDE_CLASSES.some((cls) => this.$link.hasClass(cls))) {\n      return;\n    }\n    if (EXCLUDE_ANCESTOR_CLASSES.some((cls) => this.$link.parents().hasClass(cls))) {\n      return;\n    }\n    if (\n      EXCLUDE_REL.some((rel) => {\n        const linkRels = `${this.$link.attr(\"rel\")}`.split(\" \");\n        return linkRels.indexOf(rel) > -1;\n      })\n    ) {\n      return;\n    }\n\n    this.$link.addClass(\"external-link-container\");\n    let spacer = \"&nbsp;\";\n    if (this.$link.text().trim().length < 1) {\n      // Fixes image links extra space\n      spacer = \"\";\n    }\n    this.$link.append(`${spacer}${this.generateElement()}`);\n  }\n\n  generateElement() {\n    let content = `${this.generateIcon()}${this.generateScreenReaderLabel()}`;\n\n    return `<span class=\"external-link-indicator\">${content}</span>`;\n  }\n\n  generateIcon() {\n    return icon(\"external-link\");\n  }\n\n  generateScreenReaderLabel() {\n    return `<span class=\"show-for-sr\">(${MESSAGES.externalLink})</span>`;\n  }\n}\n","/* eslint-disable require-jsdoc */\n\nexport default function updateExternalDomainLinks($target) {\n  const whitelist = window.Decidim.config.get(\"external_domain_whitelist\")\n\n  if (window.location.pathname === \"/link\") {\n    return;\n  }\n\n  $(\"a\", $target).filter((_i, link) => {\n    const $link = $(link);\n    if (!$link[0].hasAttribute(\"href\") || $link.parents(\".ql-editor\").length > 0) {\n      return false;\n    }\n\n    const parts = $link.attr(\"href\").match(/^(([a-z]+):)?\\/\\/([^/:]+)(:[0-9]*)?(\\/.*)?$/) || null;\n    if (!parts) {\n      return false;\n    }\n\n    const domain = parts[3].replace(/^www\\./, \"\")\n    if (whitelist.includes(domain)) {\n      return false;\n    }\n\n    return true;\n  }).each((_n, link) => {\n    const $link = $(link);\n    const externalHref = `/link?external_url=${encodeURIComponent($link.attr(\"href\"))}`;\n    $link.attr(\"href\", externalHref)\n    $link.attr(\"data-remote\", true)\n  });\n}\n","const DEFAULT_MESSAGES = {\n  correctErrors: \"There are errors on the form, please correct them.\"\n};\nlet MESSAGES = DEFAULT_MESSAGES;\n\nexport default class FormValidator {\n  static configureMessages(messages) {\n    MESSAGES = $.extend(DEFAULT_MESSAGES, messages);\n  }\n\n  constructor(form) {\n    this.$form = form;\n\n    this.$form.on(\"form-error.decidim\", () => {\n      this.handleError();\n    });\n  }\n\n  handleError() {\n    this.announceFormError();\n\n    $(\".is-invalid-input:first\", this.$form).focus();\n  }\n\n  /**\n   * This announces immediately to the screen reader that there are errors on\n   * the form that need to be fixed. Does not work on all screen readers but\n   * works e.g. in Windows+Firefox+NVDA and macOS+Safari+VoiceOver\n   * combinations.\n   *\n   * @returns {undefined}\n   */\n  announceFormError() {\n    let $announce = $(\".sr-announce\", this.$form);\n    if ($announce.length > 0) {\n      $announce.remove();\n    }\n    $announce = $(\"<div />\");\n    $announce.attr(\"class\", \"sr-announce show-for-sr\");\n    $announce.attr(\"aria-live\", \"assertive\");\n    this.$form.prepend($announce);\n\n    setTimeout(() => {\n      $announce.text(MESSAGES.correctErrors);\n    }, 100);\n  }\n}\n\n$(() => {\n  $(\"form\").each((_i, el) => {\n    $(el).data(\"form-validator\", new FormValidator($(el)));\n  });\n  $(document).on(\"forminvalid.zf.abide\", function(_ev, form) {\n    form.trigger(\"form-error.decidim\");\n  })\n});\n","/* eslint id-length: [\"error\", { \"exceptions\": [\"$\"] }] */\n\n/**\n * A plain Javascript component that handles the comments.\n *\n * @class\n * @augments Component\n */\n\n// This is necessary for testing purposes\nconst $ = window.$;\n\nimport { createCharacterCounter } from \"src/decidim/input_character_counter\"\nimport ExternalLink from \"src/decidim/external_link\"\nimport updateExternalDomainLinks from \"src/decidim/external_domain_warning\"\n\nexport default class CommentsComponent {\n  constructor($element, config) {\n    this.$element = $element;\n    this.commentableGid = config.commentableGid;\n    this.commentsUrl = config.commentsUrl;\n    this.rootDepth = config.rootDepth;\n    this.order = config.order;\n    this.lastCommentId = config.lastCommentId;\n    this.pollingInterval = config.pollingInterval || 15000;\n    this.id = this.$element.attr(\"id\") || this._getUID();\n    this.mounted = false;\n  }\n\n  /**\n   * Handles the logic for mounting the component\n   * @public\n   * @returns {Void} - Returns nothing\n   */\n  mountComponent() {\n    if (this.$element.length > 0 && !this.mounted) {\n      this.mounted = true;\n      this._initializeComments(this.$element);\n\n      $(\".order-by__dropdown .is-submenu-item a\", this.$element).on(\"click.decidim-comments\", () => this._onInitOrder());\n    }\n  }\n\n  /**\n   * Handles the logic for unmounting the component\n   * @public\n   * @returns {Void} - Returns nothing\n   */\n  unmountComponent() {\n    if (this.mounted) {\n      this.mounted = false;\n      this._stopPolling();\n\n      $(\".add-comment .opinion-toggle .button\", this.$element).off(\"click.decidim-comments\");\n      $(\".add-comment textarea\", this.$element).off(\"input.decidim-comments\");\n      $(\".order-by__dropdown .is-submenu-item a\", this.$element).off(\"click.decidim-comments\");\n      $(\".add-comment form\", this.$element).off(\"submit.decidim-comments\");\n      $(\".add-comment textarea\", this.$element).each((_i, el) => el.removeEventListener(\"emoji.added\", this._onTextInput));\n    }\n  }\n\n  /**\n   * Adds a new thread to the comments section.\n   * @public\n   * @param {String} threadHtml - The HTML content for the thread.\n   * @param {Boolean} fromCurrentUser - A boolean indicating whether the user\n   *   herself was the author of the new thread. Defaults to false.\n   * @returns {Void} - Returns nothing\n   */\n  addThread(threadHtml, fromCurrentUser = false) {\n    const $parent = $(\".comments:first\", this.$element);\n    const $comment = $(threadHtml);\n    const $threads = $(\".comment-threads\", this.$element);\n    this._addComment($threads, $comment);\n    this._finalizeCommentCreation($parent, fromCurrentUser);\n  }\n\n  /**\n   * Adds a new reply to an existing comment.\n   * @public\n   * @param {Number} commentId - The ID of the comment for which to add the\n   *   reply to.\n   * @param {String} replyHtml - The HTML content for the reply.\n   * @param {Boolean} fromCurrentUser - A boolean indicating whether the user\n   *   herself was the author of the new reply. Defaults to false.\n   * @returns {Void} - Returns nothing\n   */\n  addReply(commentId, replyHtml, fromCurrentUser = false) {\n    const $parent = $(`#comment_${commentId}`);\n    const $comment = $(replyHtml);\n    const $replies = $(`#comment-${commentId}-replies`);\n    this._addComment($replies, $comment);\n    $replies.siblings(\".comment__additionalreply\").removeClass(\"hide\");\n    this._finalizeCommentCreation($parent, fromCurrentUser);\n  }\n\n  /**\n   * Generates a unique identifier for the form.\n   * @private\n   * @returns {String} - Returns a unique identifier\n   */\n  _getUID() {\n    return `comments-${new Date().setUTCMilliseconds()}-${Math.floor(Math.random() * 10000000)}`;\n  }\n\n  /**\n   * Initializes the comments for the given parent element.\n   * @private\n   * @param {jQuery} $parent The parent element to initialize.\n   * @returns {Void} - Returns nothing\n   */\n  _initializeComments($parent) {\n    $(\".add-comment\", $parent).each((_i, el) => {\n      const $add = $(el);\n      const $form = $(\"form\", $add);\n      const $opinionButtons = $(\".opinion-toggle .button\", $add);\n      const $text = $(\"textarea\", $form);\n\n      $opinionButtons.on(\"click.decidim-comments\", this._onToggleOpinion);\n      $text.on(\"input.decidim-comments\", this._onTextInput);\n\n      $(document).trigger(\"attach-mentions-element\", [$text.get(0)]);\n\n      $form.on(\"submit.decidim-comments\", () => {\n        const $submit = $(\"button[type='submit']\", $form);\n\n        $submit.attr(\"disabled\", \"disabled\");\n        this._stopPolling();\n      });\n\n      if ($text.length && $text.get(0) !== null) {\n        // Attach event to the DOM node, instead of the jQuery object\n        $text.get(0).addEventListener(\"emoji.added\", this._onTextInput);\n      }\n    });\n\n    this._pollComments();\n  }\n\n  /**\n   * Adds the given comment element to the given target element and\n   * initializes it.\n   * @private\n   * @param {jQuery} $target - The target element to add the comment to.\n   * @param {jQuery} $container - The comment container element to add.\n   * @returns {Void} - Returns nothing\n   */\n  _addComment($target, $container) {\n    let $comment = $(\".comment\", $container);\n    if ($comment.length < 1) {\n      // In case of a reply\n      $comment = $container;\n    }\n    this.lastCommentId = parseInt($comment.data(\"comment-id\"), 10);\n\n    $target.append($container);\n    $container.foundation();\n    this._initializeComments($container);\n    createCharacterCounter($(\".add-comment textarea\", $container));\n    $container.find('a[target=\"_blank\"]').each((_i, elem) => {\n      const $link = $(elem);\n      $link.data(\"external-link\", new ExternalLink($link));\n    });\n    updateExternalDomainLinks($container)\n  }\n\n  /**\n   * Finalizes the new comment creation after the comment adding finishes\n   * successfully.\n   * @private\n   * @param {jQuery} $parent - The parent comment element to finalize.\n   * @param {Boolean} fromCurrentUser - A boolean indicating whether the user\n   *   herself was the author of the new comment.\n   * @returns {Void} - Returns nothing\n   */\n  _finalizeCommentCreation($parent, fromCurrentUser) {\n    if (fromCurrentUser) {\n      const $add = $(\"> .add-comment\", $parent);\n      const $text = $(\"textarea\", $add);\n      const characterCounter = $text.data(\"remaining-characters-counter\");\n      $text.val(\"\");\n      if (characterCounter) {\n        characterCounter.updateStatus();\n      }\n      if (!$add.parent().is(\".comments\")) {\n        $add.addClass(\"hide\");\n      }\n    }\n\n    // Restart the polling\n    this._pollComments();\n  }\n\n  /**\n   * Sets a timeout to poll new comments.\n   * @private\n   * @returns {Void} - Returns nothing\n   */\n  _pollComments() {\n    this._stopPolling();\n\n    this.pollTimeout = setTimeout(() => {\n      Rails.ajax({\n        url: this.commentsUrl,\n        type: \"GET\",\n        data: new URLSearchParams({\n          \"commentable_gid\": this.commentableGid,\n          \"root_depth\": this.rootDepth,\n          \"order\": this.order,\n          \"after\": this.lastCommentId\n        }),\n        success: this._pollComments()\n      })\n    }, this.pollingInterval);\n  }\n\n  /**\n   * Stops polling for new comments.\n   * @private\n   * @returns {Void} - Returns nothing\n   */\n  _stopPolling() {\n    if (this.pollTimeout) {\n      clearTimeout(this.pollTimeout);\n    }\n  }\n\n  /**\n   * Sets the loading comments element visible in the view.\n   * @private\n   * @returns {Void} - Returns nothing\n   */\n  _setLoading() {\n    const $container = $(\"> .comments-container\", this.$element);\n    $(\"> .comments\", $container).addClass(\"hide\");\n    $(\"> .loading-comments\", $container).removeClass(\"hide\");\n  }\n\n  /**\n   * Event listener for the ordering links.\n   * @private\n   * @returns {Void} - Returns nothing\n   */\n  _onInitOrder() {\n    this._stopPolling();\n    this._setLoading();\n  }\n\n  /**\n   * Event listener for the opinion toggle buttons.\n   * @private\n   * @param {Event} ev - The event object.\n   * @returns {Void} - Returns nothing\n   */\n  _onToggleOpinion(ev) {\n    let $btn = $(ev.target);\n    if (!$btn.is(\".button\")) {\n      $btn = $btn.parents(\".button\");\n    }\n\n    const $add = $btn.closest(\".add-comment\");\n    const $form = $(\"form\", $add);\n    const $opinionButtons = $(\".opinion-toggle .button\", $add);\n    const $selectedState = $(\".opinion-toggle .selected-state\", $add);\n    const $alignment = $(\".alignment-input\", $form);\n\n    $opinionButtons.removeClass(\"is-active\").attr(\"aria-pressed\", \"false\");\n    $btn.addClass(\"is-active\").attr(\"aria-pressed\", \"true\");\n\n    if ($btn.is(\".opinion-toggle--ok\")) {\n      $alignment.val(1);\n    } else if ($btn.is(\".opinion-toggle--meh\")) {\n      $alignment.val(0);\n    } else if ($btn.is(\".opinion-toggle--ko\")) {\n      $alignment.val(-1);\n    }\n\n    // Announce the selected state for the screen reader\n    $selectedState.text($btn.data(\"selected-label\"));\n  }\n\n  /**\n   * Event listener for the comment field text input.\n   * @private\n   * @param {Event} ev - The event object.\n   * @returns {Void} - Returns nothing\n   */\n  _onTextInput(ev) {\n    const $text = $(ev.target);\n    const $add = $text.closest(\".add-comment\");\n    const $form = $(\"form\", $add);\n    const $submit = $(\"button[type='submit']\", $form);\n\n    if ($text.val().length > 0) {\n      $submit.removeAttr(\"disabled\");\n    } else {\n      $submit.attr(\"disabled\", \"disabled\");\n    }\n  }\n}\n","import {EmojiButton} from \"@joeattardi/emoji-button\";\n\n// eslint-disable-next-line require-jsdoc\nexport default function addInputEmoji() {\n  const containers = document.querySelectorAll(\"[data-input-emoji]\");\n\n  if (containers.length) {\n    containers.forEach((elem) => {\n      const picker = new EmojiButton({\n        position: \"bottom-end\",\n        rootElement: elem.closest(\"form\")?.parentElement || document.body,\n        zIndex: 2000\n      });\n\n      // if the selector is inside a modal window\n      // this allows shows the emoji menu uncut\n      const reveal = elem.closest(\"[data-reveal]\")\n      if (reveal) {\n        reveal.style.overflowY = \"unset\"\n      }\n\n      const wrapper = document.createElement(\"div\");\n      wrapper.className = \"emoji__container\"\n      const btnContainer = document.createElement(\"div\");\n      btnContainer.className = \"emoji__trigger\"\n      const btn = document.createElement(\"div\");\n      btn.className = \"emoji__button\"\n      btn.innerHTML = '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"smile\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\"><path fill=\"currentColor\" d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z\"></path></svg>'\n\n      const parent = elem.parentNode;\n      parent.insertBefore(wrapper, elem);\n      wrapper.appendChild(elem);\n      wrapper.appendChild(btnContainer);\n      btnContainer.appendChild(btn);\n\n      // The form errors need to be in the same container with the field they\n      // belong to for Foundation Abide to show them automatically.\n      parent.querySelectorAll(\".form-error\").forEach((el) => wrapper.appendChild(el));\n\n      let handlerPicker = function () {\n        picker.togglePicker(btnContainer);\n      }\n\n      btnContainer.addEventListener(\"click\", handlerPicker);\n\n      elem.addEventListener(\"characterCounter\", (event) => {\n        if (event.detail.remaining >= 4) {\n          btnContainer.addEventListener(\"click\", handlerPicker);\n          btnContainer.removeAttribute(\"style\");\n        } else {\n          btnContainer.removeEventListener(\"click\", handlerPicker);\n          btnContainer.setAttribute(\"style\", \"color:lightgrey\");\n        }\n      });\n\n\n      picker.on(\"emoji\", ({emoji}) => {\n        elem.value += ` ${emoji} `\n\n        const event = new Event(\"emoji.added\");\n        elem.dispatchEvent(event);\n      });\n    })\n  }\n};\n","/**\n * A method to enable the dialog mode for the given dialog(s).\n *\n * This should be called when the dialog is opened. It implements two things for\n * the dialog:\n * 1. It places the focus to the title element making sure the screen reader\n *    focuses in the correct position of the document. Otherwise some screen\n *    readers continue reading outside of the document.\n * 2. Document \"tab guards\" that force the keyboard focus within the modal when\n *    the user is using keyboard or keyboard emulating devices for browsing the\n *    document.\n *\n * The \"tab guards\" are added at the top and bottom of the document to keep the\n * user's focus within the dialog if they accidentally or intentionally place\n * the focus outside of the document, e.g. in different window or in the browser\n * address bar. They guard the focus on both sides of the document returning\n * focus back to the first or last focusable element within the dialog.\n *\n * @param {jQuery} $dialogs The jQuery element(s) to apply the mode for.\n * @return {Void} Nothing\n */\nexport default ($dialogs) => {\n  $dialogs.each((_i, dialog) => {\n    const $dialog = $(dialog);\n\n    const $container = $(\"body\");\n    const $title = $(\".reveal__title:first\", $dialog);\n\n    if ($title.length > 0) {\n      // Focus on the title to make the screen reader to start reading the\n      // content within the modal.\n      $title.attr(\"tabindex\", $title.attr(\"tabindex\") || -1);\n      $title.trigger(\"focus\");\n    }\n\n    // Once the final modal closes, disable the focus guarding\n    $dialog.off(\"closed.zf.reveal.focusguard\").on(\"closed.zf.reveal.focusguard\", () => {\n      $dialog.off(\"closed.zf.reveal.focusguard\");\n\n      // After the last dialog is closed, the tab guards should be removed.\n      // This is done when the focus guard is disabled. If there is still a\n      // visible reveal item in the DOM, make that the currently \"guarded\"\n      // element. Note that there may be multiple dialogs open on top of each\n      // other at the same time.\n      const $visibleReveal = $(\".reveal:visible:last\", $container);\n      if ($visibleReveal.length > 0) {\n        window.focusGuard.trap($visibleReveal[0]);\n      } else {\n        window.focusGuard.disable();\n      }\n    });\n\n    window.focusGuard.trap(dialog);\n  });\n};\n","import { Keyboard } from \"foundation-sites\"\n\nconst focusGuardClass = \"focusguard\";\nconst focusableNodes = [\"A\", \"IFRAME\", \"OBJECT\", \"EMBED\"];\nconst focusableDisableableNodes = [\"BUTTON\", \"INPUT\", \"TEXTAREA\", \"SELECT\"];\n\nexport default class FocusGuard {\n  constructor(container) {\n    this.container = container;\n    this.guardedElement = null;\n  }\n\n  trap(element) {\n    if (this.guardedElement) {\n      Keyboard.releaseFocus($(this.guardedElement));\n    }\n\n    this.enable();\n    this.guardedElement = element;\n\n    // Call the release focus first so that we don't accidentally add the\n    // keyboard trap twice. Note that the Foundation methods expect the elements\n    // to be jQuery elements which is why we pass them through jQuery.\n    Keyboard.releaseFocus($(element));\n    Keyboard.trapFocus($(element));\n  }\n\n  enable() {\n    // Check if the guards already exists due to some other dialog\n    const guards = this.container.querySelectorAll(`:scope > .${focusGuardClass}`);\n    if (guards.length > 0) {\n      // Make sure the guards are the first and last element as there have\n      // been changes in the DOM.\n      guards.forEach((guard) => {\n        if (guard.dataset.position === \"start\") {\n          this.container.prepend(guard);\n        } else {\n          this.container.append(guard);\n        }\n      })\n\n      return;\n    }\n\n    // Add guards at the start and end of the document and attach their focus\n    // listeners\n    const startGuard = this.createFocusGuard(\"start\");\n    const endGuard = this.createFocusGuard(\"end\");\n\n    this.container.prepend(startGuard);\n    this.container.append(endGuard);\n\n    startGuard.addEventListener(\"focus\", () => this.handleContainerFocus(startGuard));\n    endGuard.addEventListener(\"focus\", () => this.handleContainerFocus(endGuard));\n  }\n\n  disable() {\n    const guards = this.container.querySelectorAll(`:scope > .${focusGuardClass}`);\n    guards.forEach((guard) => guard.remove());\n\n    if (this.guardedElement) {\n      // Note that the Foundation methods expect the elements to be jQuery\n      // elements which is why we pass them through jQuery.\n      Keyboard.releaseFocus($(this.guardedElement));\n      this.guardedElement = null;\n    }\n  }\n\n  createFocusGuard(position) {\n    const guard = document.createElement(\"div\");\n    guard.className = focusGuardClass;\n    guard.dataset.position = position;\n    guard.tabIndex = 0;\n    guard.setAttribute(\"aria-hidden\", \"true\");\n\n    return guard;\n  };\n\n  handleContainerFocus(guard) {\n    if (!this.guardedElement) {\n      guard.blur();\n      return;\n    }\n\n    const visibleNodes = Array.from(this.guardedElement.querySelectorAll(\"*\")).filter((item) => {\n      return this.isVisible(item);\n    });\n\n    let target = null;\n    if (guard.dataset.position === \"start\") {\n      // Focus at the start guard, so focus the first focusable element after that\n      for (let ind = 0; ind < visibleNodes.length; ind += 1) {\n        if (!this.isFocusGuard(visibleNodes[ind]) && this.isFocusable(visibleNodes[ind])) {\n          target = visibleNodes[ind];\n          break;\n        }\n      }\n    } else {\n      // Focus at the end guard, so focus the first focusable element after that\n      for (let ind = visibleNodes.length - 1; ind >= 0; ind -= 1) {\n        if (!this.isFocusGuard(visibleNodes[ind]) && this.isFocusable(visibleNodes[ind])) {\n          target = visibleNodes[ind];\n          break;\n        }\n      }\n    }\n\n    if (target) {\n      target.focus();\n    } else {\n      // If no focusable element was found, blur the guard focus\n      guard.blur();\n    }\n  };\n\n  isVisible(element) {\n    return element.offsetWidth > 0 || element.offsetHeight > 0;\n  }\n\n  isFocusGuard(element) {\n    return element.classList.contains(focusGuardClass);\n  }\n\n  isFocusable(element) {\n    if (focusableNodes.indexOf(element.nodeName) > -1) {\n      return true;\n    }\n    if (focusableDisableableNodes.indexOf(element.nodeName) > -1 || element.getAttribute(\"contenteditable\")) {\n      if (element.getAttribute(\"disabled\")) {\n        return false;\n      }\n      return true;\n    }\n\n    const tabindex = parseInt(element.getAttribute(\"tabindex\"), 10);\n    if (!isNaN(tabindex) && tabindex >= 0) {\n      return true;\n    }\n\n    return false;\n  }\n}\n","/* eslint-disable no-invalid-this */\n\nimport svg4everybody from \"svg4everybody\"\nimport formDatePicker from \"src/decidim/form_datepicker\"\nimport fixDropdownMenus from \"src/decidim/dropdowns_menus\"\nimport createQuillEditor from \"src/decidim/editor\"\nimport Configuration from \"src/decidim/configuration\"\nimport ExternalLink from \"src/decidim/external_link\"\nimport updateExternalDomainLinks from \"src/decidim/external_domain_warning\"\nimport InputCharacterCounter from \"src/decidim/input_character_counter\"\nimport FormValidator from \"src/decidim/form_validator\"\nimport CommentsComponent from \"src/decidim/comments/comments.component\"\nimport DataPicker from \"src/decidim/data_picker\"\nimport FormFilterComponent from \"src/decidim/form_filter\"\nimport addInputEmoji from \"src/decidim/input_emoji\"\nimport dialogMode from \"src/decidim/dialog_mode\"\nimport FocusGuard from \"src/decidim/focus_guard\"\nimport backToListLink from \"src/decidim/back_to_list\"\n\nwindow.Decidim = window.Decidim || {};\nwindow.Decidim.config = new Configuration()\nwindow.Decidim.ExternalLink = ExternalLink;\nwindow.Decidim.InputCharacterCounter = InputCharacterCounter;\nwindow.Decidim.FormValidator = FormValidator;\nwindow.Decidim.DataPicker = DataPicker;\nwindow.Decidim.CommentsComponent = CommentsComponent;\nwindow.Decidim.addInputEmoji = addInputEmoji;\n\n$(() => {\n  window.theDataPicker = new DataPicker($(\".data-picker\"));\n  window.focusGuard = new FocusGuard(document.querySelector(\"body\"));\n\n  $(document).foundation();\n  $(document).on(\"open.zf.reveal\", (ev) => {\n    dialogMode($(ev.target));\n  });\n\n  // Trap the focus within the mobile menu if the user enters it. This is an\n  // accessibility feature forcing the focus within the offcanvas container\n  // which holds the mobile menu.\n  $(\"#offCanvas\").on(\"openedEnd.zf.offCanvas\", (ev) => {\n    ev.target.querySelector(\".main-nav a\").focus();\n    window.focusGuard.trap(ev.target);\n  }).on(\"closed.zf.offCanvas\", () => {\n    window.focusGuard.disable();\n  });\n\n  fixDropdownMenus();\n\n  svg4everybody();\n\n  // Prevent data-open buttons e.g. from submitting the underlying form in\n  // authorized action buttons.\n  $(\"[data-open]\").on(\"click\", (event) => {\n    event.preventDefault();\n  });\n\n  formDatePicker();\n\n  $(\".editor-container\").each((_idx, container) => {\n    createQuillEditor(container);\n  });\n\n  $('a[target=\"_blank\"]').each((_i, elem) => {\n    const $link = $(elem);\n    $link.data(\"external-link\", new ExternalLink($link));\n  });\n\n  // Mount comments component\n  $(\"[data-decidim-comments]\").each((_i, el) => {\n    const $el = $(el);\n    const comments = new CommentsComponent($el, $el.data(\"decidim-comments\"));\n    comments.mountComponent();\n    $(el).data(\"comments\", comments);\n  });\n\n  $(\"form.new_filter\").each(function () {\n    const formFilter = new FormFilterComponent($(this));\n\n    formFilter.mountComponent();\n  })\n\n  updateExternalDomainLinks($(\"body\"))\n\n  addInputEmoji()\n\n  backToListLink(document.querySelectorAll(\".js-back-to-list\"));\n});\n","/**\n * Changes \"Back to list\" links to the one saved in sessionStorage API\n * To apply this to a link, at least one element must have the class \"js-back-to-list\".\n * For this to work it needs the filteredParams in SessionStorage, that's saved on FormFilterComponent.\n * @param {NodeList} links - Hyperlinks elements that point to the filters page that will use the fitererd params\n * @returns {void}\n */\nexport default function backToListLink(links) {\n\n  if (!links) {\n    return;\n  }\n\n  if (!window.sessionStorage) {\n    return;\n  }\n\n  const filteredParams = JSON.parse(sessionStorage.getItem(\"filteredParams\")) || {};\n  links.forEach((link) => {\n    const href = link.getAttribute(\"href\");\n    if (filteredParams[href]) {\n      link.setAttribute(\"href\", filteredParams[href]);\n    }\n  });\n\n}\n","import select from \"select\";\n\n/**\n * This provides functionality to add clipboard copy functionality to buttons\n * on the page. The element to be copied from has to be defined for the button\n * using a `data` attribute and the target element has to be a form input.\n *\n * Usage:\n *   1. Create the button:\n *     <button class=\"button\"\n *      data-clipboard-copy=\"#target-input-element\"\n *      data-clipboard-copy-label=\"Copied!\"\n *      data-clipboard-copy-message=\"The text was successfully copied to clipboard.\"\n *      aria-label=\"Copy the text to clipboard\">\n *        <%= icon \"clipboard\", role: \"presentation\", \"aria-hidden\": true %>\n *        Copy to clipboard\n *    </button>\n *\n *   2. Make sure the target element exists on the page:\n *     <input id=\"target-input-element\" type=\"text\" value=\"This text will be copied.\">\n *\n * Options through data attributes:\n * - `data-clipboard-copy` = The jQuery selector for the target input element\n *   where text will be copied from.\n * - `data-clipboard-copy-label` = The label that will be shown in the button\n *   after a succesful copy.\n * - `data-clipboard-copy-message` = The text that will be announced to screen\n *   readers after a successful copy.\n */\n\n// How long the \"copied\" text is shown in the copy element after successful\n// copy.\nconst CLIPBOARD_COPY_TIMEOUT = 5000;\n\n$(() => {\n  $(document).on(\"click\", \"[data-clipboard-copy]\", (ev) => {\n    const $el = $(ev.target);\n    if (!$el.data(\"clipboard-copy\") || $el.data(\"clipboard-copy\").length < 1) {\n      return;\n    }\n\n    const $input = $($el.data(\"clipboard-copy\"));\n    if ($input.length < 1 || !$input.is(\"input, textarea, select\")) {\n      return;\n    }\n\n    // Get the available text to clipboard.\n    const selectedText = select($input[0]);\n    if (!selectedText || selectedText.length < 1) {\n      return;\n    }\n\n    // Move the selected text to clipboard.\n    const $temp = $(`<textarea>${selectedText}</textarea>`).css({\n      width: 1,\n      height: 1\n    });\n    $el.after($temp);\n    $temp.select();\n\n    const copyDone = () => {\n      $temp.remove();\n      $el.focus();\n    };\n    try {\n      // document.execCommand is deprecated but the Clipboard API is not\n      // supported by IE (which unfortunately is still a thing).\n      if (!document.execCommand(\"copy\")) {\n        return;\n      }\n    } catch (err) {\n      copyDone();\n      return;\n    }\n    copyDone();\n\n    // Change the label to indicate the copying was successful.\n    const label = $el.data(\"clipboard-copy-label\");\n    if (label) {\n      let to = $el.data(\"clipboard-copy-label-timeout\");\n      if (to) {\n        clearTimeout(to);\n      }\n\n      if (!$el.data(\"clipboard-copy-label-original\")) {\n        $el.data(\"clipboard-copy-label-original\", $el.html());\n      }\n\n      $el.html(label);\n      to = setTimeout(() => {\n        $el.html($el.data(\"clipboard-copy-label-original\"));\n        $el.removeData(\"clipboard-copy-label-original\");\n        $el.removeData(\"clipboard-copy-label-timeout\");\n      }, CLIPBOARD_COPY_TIMEOUT);\n      $el.data(\"clipboard-copy-label-timeout\", to)\n    }\n\n    // Alert the screen reader what just happened (the link was copied).\n    let message = $el.data(\"clipboard-copy-message\");\n    if (message) {\n      let $msg = $el.data(\"clipboard-message-element\");\n      if ($msg) {\n        if ($msg.html() === message) {\n          // Try to hint the screen reader to re-read the text in the message\n          // element.\n          message += \"&nbsp;\";\n        }\n      } else {\n        $msg = $('<div aria-role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" class=\"clipboard-announcement show-for-sr\"></div>');\n        $el.after($msg);\n        $el.data(\"clipboard-message-element\", $msg);\n      }\n\n      // Add the non breaking space always to content to try to force the\n      // screen reader to reannounce the added text.\n      $msg.html(message);\n    }\n  });\n});\n","import \"@zeitiger/appendaround\"\n\n$(() => {\n  let $appendableElements = $(\".js-append\");\n  $appendableElements.appendAround();\n})\n","import Rails from \"@rails/ujs\";\n\n// Make the remote form submit buttons disabled when the form is being\n// submitted to avoid multiple submits.\ndocument.addEventListener(\"ajax:beforeSend\", (ev) => {\n  if (!ev.target.matches(\"form[data-remote]\")) {\n    return;\n  }\n\n  ev.target.querySelectorAll(\"[type=submit]\").forEach((submit) => {\n    submit.disabled = true;\n  });\n});\ndocument.addEventListener(\"ajax:complete\", (ev) => {\n  if (!ev.target.matches(\"form[data-remote]\")) {\n    return;\n  }\n\n  ev.target.querySelectorAll(\"[type=submit]\").forEach((submit) => {\n    submit.disabled = false;\n  });\n});\n\n// The forms that are attached to Foundation Abide do not work properly with\n// Rails UJS Ajax forms that have the `data-remote` attribute attached to\n// them. The reason is that in case Foundation Abide sees the form as valid,\n// it will submit it normally bypassing the Rails UJS functionality.\n// The submit events happens through jQuery in Foundation Abide which is why\n// we need to bind the event with jQuery.\n$(document).on(\"submit\", \"form[data-remote][data-abide]\", (ev) => {\n  ev.preventDefault();\n\n  if (ev.target.querySelectorAll(\"[data-invalid]\").length > 0) {\n    return;\n  }\n\n  Reflect.apply(Rails.handleRemote, ev.target, [ev]);\n});\n","/* eslint-disable no-invalid-this */\n\nimport Foundation from \"foundation-sites\"\n\n$(() => {\n  // True if small devices\n  if (!Foundation.MediaQuery.atLeast(\"medium\")) {\n    const $speaker = $(\".js-conference\")\n\n    $speaker.hover(function () {\n      const top = $(window).scrollTop() + ($(window).height() * 0.1)\n      $(this).find(\".js-bio\").css(\"top\", top)\n    })\n  }\n});\n","import { pushState, registerCallback } from \"src/decidim/history\"\n\nconst initializeListingOptionsMenu = (options) => {\n  $(document).on(\"click\", `${options.containerSelector} a`, (event) => {\n    const $target = $(event.target);\n\n    $target.parents(\".menu\").find(\"a:first\").text($target.text());\n\n    pushState($target.attr(\"href\"));\n  })\n\n  registerCallback(options.callbackName, () => {\n    const url = window.location.toString();\n    const match = url.match(/${options.urlParameter}=([^&]*)/);\n    const $targetMenu = $(`${options.containerSelector} .menu`);\n    let value = $targetMenu.find(\".menu a:first\").data(options.dataAttribute);\n\n    if (match) {\n      value = match[1];\n    }\n\n    const linkText = $targetMenu.find(`.menu a[data-${options.dataAttribute}=\"${value}\"]`).text();\n\n    $targetMenu.find(\"a:first\").text(linkText);\n  });\n};\n\n$(() => {\n  initializeListingOptionsMenu({\n    containerSelector: \".order-by\",\n    callbackName: \"orders\",\n    urlParameter: \"order\",\n    dataAttribute: \"order\"\n  });\n  initializeListingOptionsMenu({\n    containerSelector: \".results-per-page\",\n    callbackName: \"results_per_page\",\n    urlParameter: \"per_page\",\n    dataAttribute: \"per-page-option\"\n  });\n});\n","import moment from \"moment\"\n\n$(() => {\n  const $impersonationWarning = $(\".impersonation-warning\");\n  if ($impersonationWarning.length) {\n    const endsAt = moment($impersonationWarning.data(\"session-ends-at\"));\n    const exitInterval = setInterval(() => {\n      const diff = (endsAt - moment()) / 60000;\n      const diffInMinutes = Math.round(diff);\n      $impersonationWarning.find(\".minutes\").html(diffInMinutes);\n\n      if (diff <= 0) {\n        window.location.reload();\n      }\n    }, 1000);\n\n    // Prevent reload when page is already unloading, otherwise it may cause infinite reloads.\n    window.addEventListener(\"beforeunload\", () => {\n      clearInterval(exitInterval);\n      return;\n    });\n  }\n});\n","/* eslint no-unused-vars: 0 */\n/* eslint id-length: [\"error\", { \"exceptions\": [\"$\"] }] */\n\nimport $ from \"jquery\"\nimport Quill from \"quill\"\nimport Rails from \"@rails/ujs\"\n\nimport \"core-js/stable\";\nimport \"regenerator-runtime/runtime\";\nimport morphdom from \"morphdom\"\n// Export variable to make it available in .js.erb templates\nwindow.morphdom = morphdom\nimport \"src/decidim/vendor/foundation-datepicker\"\nimport \"src/decidim/foundation_datepicker_locales\"\nimport \"src/decidim/vendor/modernizr\"\nimport \"src/decidim/vendor/social-share-button\"\nimport \"social-share-button\"\n\nimport \"src/decidim/input_tags\"\nimport \"src/decidim/input_hashtags\"\nimport \"src/decidim/input_mentions\"\nimport \"src/decidim/input_multiple_mentions\"\nimport \"src/decidim/input_character_counter\"\nimport \"src/decidim/input_autojump\"\nimport \"src/decidim/index\"\nimport \"src/decidim/history\"\nimport \"src/decidim/callout\"\nimport \"src/decidim/clipboard\"\nimport \"src/decidim/append_elements\"\nimport \"src/decidim/user_registrations\"\nimport \"src/decidim/account_form\"\nimport \"src/decidim/data_picker\"\nimport \"src/decidim/dropdowns_menus\"\nimport \"src/decidim/append_redirect_url_to_modals\"\nimport \"src/decidim/form_attachments\"\nimport \"src/decidim/form_validator\"\nimport \"src/decidim/form_remote\"\nimport \"src/decidim/ajax_modals\"\nimport \"src/decidim/conferences\"\nimport \"src/decidim/tooltip_keep_on_hover\"\nimport \"src/decidim/diff_mode_dropdown\"\nimport \"src/decidim/conversations\"\nimport \"src/decidim/delayed\"\nimport \"src/decidim/icon\"\nimport \"src/decidim/vizzs\"\nimport \"src/decidim/responsive_horizontal_tabs\"\nimport \"src/decidim/security/selfxss_warning\"\nimport \"src/decidim/session_timeouter\"\nimport \"src/decidim/configuration\"\nimport \"src/decidim/floating_help\"\nimport \"src/decidim/confirm\"\nimport \"src/decidim/comments/comments\"\nimport \"src/decidim/results_listing\"\nimport \"src/decidim/represent_user_group\"\nimport \"src/decidim/impersonation\"\nimport \"src/decidim/start_conversation_dialog\"\nimport \"src/decidim/notifications\"\nimport \"src/decidim/identity_selector_dialog\"\nimport \"src/decidim/gallery\"\nimport \"src/decidim/back_to_list\"\n\n// CSS\nimport \"entrypoints/decidim_core.scss\"\n\n// Import from the Rails instance application\nimport \"src/decidim/decidim_application\"\n\n// Images\nrequire.context(\"../images\", true)\n\n// This needs to be loaded after confirm dialog to bind properly\nRails.start()\n\n","/**\n * Since the delete account has a modal to confirm it we need to copy the content of the\n * reason field to the hidden field in the form inside the modal.\n */\n$(() => {\n  const $deleteAccountForm = $(\".delete-account\");\n  const $deleteAccountModalForm = $(\".delete-account-modal\");\n\n  if ($deleteAccountForm.length > 0) {\n    const $openModalButton = $(\".open-modal-button\");\n    const $modal = $(\"#deleteConfirm\");\n\n    $openModalButton.on(\"click\", (event) => {\n      try {\n        const reasonValue = $deleteAccountForm.find(\"textarea#delete_account_delete_reason\").val();\n        $deleteAccountModalForm.find(\"input#delete_account_delete_reason\").val(reasonValue);\n        $modal.foundation(\"open\");\n      } catch (error) {\n        console.error(error); // eslint-disable-line no-console\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    });\n  }\n});\n","/* eslint-disable multiline-ternary, no-ternary */\n\n/*\n *\n * This is used to make sure users are redirected to\n * the expected URL after sign in.\n *\n * When a button or link trigger a login modal we capture\n * the event and inject the URL where the user should\n * be redirected after sign in (the redirect_url param).\n *\n * The code is injected to any form or link in the modal\n * and when the modal is closed we remove the injected\n * code.\n *\n * In order for this to work the button or link must have\n * a data-open attribute with the ID of the modal to open\n * and a data-redirect-url attribute with the URL to redirect\n * the user. If any of this is missing no code will be\n * injected.\n *\n */\n$(() => {\n  const removeUrlParameter = (url, parameter) => {\n    const urlParts = url.split(\"?\");\n\n    if (urlParts.length >= 2) {\n      // Get first part, and remove from array\n      const urlBase = urlParts.shift();\n\n      // Join it back up\n      const queryString = urlParts.join(\"?\");\n\n      const prefix = `${encodeURIComponent(parameter)}=`;\n      const parts = queryString.split(/[&;]/g);\n\n      // Reverse iteration as may be destructive\n      for (let index = parts.length - 1; index >= 0; index -= 1) {\n        // Idiom for string.startsWith\n        if (parts[index].lastIndexOf(prefix, 0) !== -1) {\n          parts.splice(index, 1);\n        }\n      }\n\n      if (parts.length === 0) {\n        return urlBase;\n      }\n\n      return `${urlBase}?${parts.join(\"&\")}`;\n    }\n\n    return url;\n  }\n\n  $(document).on(\"click.zf.trigger\", (event) => {\n    const target = `#${$(event.target).data(\"open\")}`;\n    const redirectUrl = $(event.target).data(\"redirectUrl\");\n\n    if (target && redirectUrl) {\n      $(\"<input type='hidden' />\").\n        attr(\"id\", \"redirect_url\").\n        attr(\"name\", \"redirect_url\").\n        attr(\"value\", redirectUrl).\n        appendTo(`${target} form`);\n\n      $(`${target} a`).attr(\"href\", (index, href) => {\n        const querystring = jQuery.param({\"redirect_url\": redirectUrl});\n        return href + (href.match(/\\?/) ? \"&\" : \"?\") + querystring;\n      });\n    }\n  });\n\n  $(document).on(\"closed.zf.reveal\", (event) => {\n    $(\"#redirect_url\", event.target).remove();\n    $(\"a\", event.target).attr(\"href\", (index, href) => {\n      if (href && href.indexOf(\"redirect_url\") !== -1) {\n        return removeUrlParameter(href, \"redirect_url\");\n      }\n\n      return href;\n    });\n  });\n});\n","/**\n * Improves the accessibility of the callout messages for screen readers. Not\n * all screen readers would announce the callout alert contents after the page\n * reload without this.\n */\n\n$(() => {\n  const $callout = $('.callout[role=\"alert\"]:first');\n  if ($callout.length > 0) {\n    setTimeout(() => {\n      // The content insertion is to try to hint some of the screen readers\n      // that the alert content has changed and needs to be announced.\n      $callout.attr(\"tabindex\", \"0\").focus().html(`${$callout.html()}&nbsp;`);\n    }, 500);\n  }\n});\n","/**\n * Scroll smoothly to the last message automatically when the page is fully loaded.\n * To apply this to a page, at least one element must have the class \"scroll-to-last-message\".\n * @returns {void}\n */\nconst scrollToLastMessage = function() {\n  if ($(\".scroll-to-last-message\").length > 0) {\n    window.scrollTo({\n      top: $(\".conversation-chat:last-child\").offset().top,\n      behavior: \"smooth\"\n    });\n  }\n}\n\n$(document).ready(() => {\n  scrollToLastMessage();\n});\n","$(() => {\n  const $allDiffViews = $(\".row.diff_view\");\n\n  $(document).on(\"click\", \".diff-view-by a.diff-view-mode\", (event) => {\n    event.preventDefault();\n    const $target = $(event.target)\n    let type = \"escaped\";\n    const $selected = $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-selected\");\n    if ($selected.text().trim() === $target.text().trim()) {\n      return;\n    }\n\n    $selected.text($target.text());\n\n    if ($target.attr(\"id\") === \"diff-view-unified\") {\n      if ($(\".row.diff_view_split_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n\n      $allDiffViews.addClass(\"hide\");\n      $(`.row.diff_view_unified_${type}`).removeClass(\"hide\");\n    }\n    if ($target.attr(\"id\") === \"diff-view-split\") {\n      if ($(\".row.diff_view_unified_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n\n      $allDiffViews.addClass(\"hide\");\n      $(`.row.diff_view_split_${type}`).removeClass(\"hide\");\n    }\n  })\n\n  $(document).on(\"click\", \".diff-view-by a.diff-view-html\", (event) => {\n    event.preventDefault();\n    const $target = $(event.target);\n    $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-html-selected\").text($target.text());\n    const $visibleDiffViewsId = $allDiffViews.not(\".hide\").first().attr(\"id\").split(\"_\").slice(1, -1).join(\"_\");\n    const $visibleDiffViews = $allDiffViews.filter(`[id*=${$visibleDiffViewsId}]`)\n\n    if ($target.attr(\"id\") === \"diff-view-escaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_escaped]\").removeClass(\"hide\");\n    }\n    if ($target.attr(\"id\") === \"diff-view-unescaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_escaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").removeClass(\"hide\");\n    }\n  })\n});\n","$(function() {\n  if (!window.localStorage) {\n    return;\n  }\n\n  let getDismissedHelpers = () => {\n    let serialized = localStorage.getItem(\"dismissedHelpers\");\n    if (!serialized) {\n      return [];\n    }\n\n    return serialized.split(\",\");\n  };\n\n  let addDismissedHelper = (id) => {\n    let dismissedHelpers = getDismissedHelpers();\n\n    if (!dismissedHelpers.includes(id)) {\n      localStorage.setItem(\n        \"dismissedHelpers\",\n        [...dismissedHelpers, id].join(\",\")\n      );\n    }\n  };\n\n  let dismissedHelpers = getDismissedHelpers();\n\n  $(\".floating-helper-container\").each((_index, elem) => {\n    let id = $(elem).data(\"help-id\");\n\n    $(\n      \".floating-helper__trigger, .floating-helper__content-close\",\n      elem\n    ).on(\"click\", (ev) => {\n      ev.preventDefault();\n    });\n\n    if (!dismissedHelpers.includes(id)) {\n      $(\".floating-helper\", elem).foundation(\"toggle\");\n      $(\".floating-helper__wrapper\", elem).foundation(\"toggle\");\n\n      $(\".floating-helper\", elem).on(\"off.zf.toggler\", () => {\n        addDismissedHelper(id);\n      });\n    }\n  });\n});\n","$(() => {\n  $(\"form .attachments_container\").on(\"closed.zf.callout\", (event) => {\n    $(event.target).remove();\n  });\n});\n","/* eslint-disable require-jsdoc */\n/* eslint-disable no-prototype-builtins, no-restricted-syntax, no-param-reassign */\n\nlet callbacks = {};\n\nexport default function registerCallback(callbackId, callback) {\n  callbacks[callbackId] = callback;\n}\n\nconst unregisterCallback = (callbackId) => {\n  callbacks[callbackId] = null;\n}\n\nconst pushState = (url, state = null) => {\n  if (window.history) {\n    window.history.pushState(state, null, url);\n  }\n};\n\nconst replaceState = (url, state = null) => {\n  if (window.history) {\n    window.history.replaceState(state, null,  url);\n  }\n};\n\nconst state = () => {\n  if (window.history) {\n    return window.history.state;\n  }\n  return null;\n};\n\nwindow.onpopstate = (event) => {\n  // Ensure the event is caused by user action\n  if (event.isTrusted) {\n    for (let callbackId in callbacks) {\n      if (callbacks.hasOwnProperty(callbackId)) {\n        callbacks[callbackId](event.state);\n      }\n    }\n  }\n}\n\nexport { registerCallback, unregisterCallback, pushState, replaceState, state };\n","/**\n * Makes the #select-identity-button to open a popup for the user to\n * select with which identity he wants to perform an action.\n *\n */\n$(() => {\n  let button = $(\"#select-identity-button\"),\n      identitiesUrl = null,\n      userIdentitiesDialog = $(\"#user-identities\");\n\n  if (userIdentitiesDialog.length) {\n    identitiesUrl = userIdentitiesDialog.data(\"reveal-identities-url\");\n\n    button.click(function () {\n      $.ajax(identitiesUrl).done(function(response) {\n        userIdentitiesDialog.html(response).foundation(\"open\");\n        button.trigger(\"ajax:success\")\n      });\n    });\n  }\n});\n\n\n/**\n * Manage the identity selector for endorsements.\n *\n */\n$(() => {\n  $(\"#select-identity-button\").on(\"ajax:success\", function() {\n    // once reveal popup has been rendered register event callbacks\n    $(\"#user-identities ul.reveal__list li\").each(function(index, elem) {\n      let liTag = $(elem)\n      liTag.on(\"click\", function() {\n        let method = liTag.data(\"method\"),\n            urlDataAttr = null;\n        if (method === \"POST\") {\n          urlDataAttr = \"create_url\";\n        } else {\n          urlDataAttr = \"destroy_url\";\n        }\n        $.ajax({\n          url: liTag.data(urlDataAttr),\n          method: method,\n          dataType: \"script\",\n          success: function() {\n            if (liTag.hasClass(\"selected\")) {\n              liTag.removeClass(\"selected\")\n              liTag.find(\".icon--circle-check\").addClass(\"invisible\")\n              liTag.data(\"method\", \"POST\")\n            } else {\n              liTag.addClass(\"selected\")\n              liTag.find(\".icon--circle-check\").removeClass(\"invisible\")\n              liTag.data(\"method\", \"DELETE\")\n            }\n          }\n        })\n      })\n    });\n  });\n})\n","$(() => {\n  const $inputs = $(\"input[data-autojump]\");\n  const DELETE_KEY_CODE = 8;\n\n  // Initialize\n  $inputs.on(\"keydown\", (event) => {\n    // Don't do anything if there is selected text\n    if (event.target.selectionStart !== event.target.selectionEnd) {\n      return;\n    }\n\n    if (event.originalEvent.key.length === 1 && event.target.dataset.jumpNext) {\n      if (\n        event.target.value.length ===\n        parseInt(event.target.dataset.maxLength, 10)\n      ) {\n        event.preventDefault();\n        setTimeout(() => {\n          const next = $(event.target.dataset.jumpNext);\n          next.val(event.originalEvent.key);\n          next.trigger(\"focus\");\n        }, 1);\n      }\n    } else if (\n      event.originalEvent.keyCode === DELETE_KEY_CODE &&\n      event.target.dataset.jumpPrev\n    ) {\n      if (event.target.value.length === 0) {\n        event.preventDefault();\n        setTimeout(() => {\n          const prev = $(event.target.dataset.jumpPrev);\n          prev.val(prev.val().slice(0, -1));\n          prev.trigger(\"focus\");\n        }, 1);\n      }\n    }\n  });\n});\n","$(() => {\n  const $notificationsBellIcon = $(\".title-bar .topbar__notifications\");\n  const $wrapper = $(\".wrapper\");\n  const $section = $wrapper.find(\"#notifications\");\n  const $noNotificationsText = $(\".empty-notifications\");\n  const $pagination = $wrapper.find(\"ul.pagination\");\n  const FADEOUT_TIME = 500;\n\n  const anyNotifications = () => $wrapper.find(\".card--widget\").length > 0;\n  const emptyNotifications = () => {\n    if (!anyNotifications()) {\n      $section.remove();\n      $noNotificationsText.removeClass(\"hide\");\n    }\n  };\n\n  $section.on(\"click\", \".mark-as-read-button\", (event) => {\n    const $item = $(event.target).parents(\".card--widget\");\n    $item.fadeOut(FADEOUT_TIME, () => {\n      $item.remove();\n      emptyNotifications();\n    });\n  });\n\n  $wrapper.on(\"click\", \".mark-all-as-read-button\", () => {\n    $section.fadeOut(FADEOUT_TIME, () => {\n      $pagination.remove();\n      $notificationsBellIcon.removeClass(\"is-active\");\n      $wrapper.find(\".card--widget\").remove();\n      emptyNotifications();\n    });\n  });\n\n  emptyNotifications();\n});\n","$(() => {\n  const $checkbox = $(\".represent-user-group\").find(\"input#user_group\");\n  const $userGroupFields = $(\".user-group-fields\");\n\n  $checkbox.click(() => {\n    const $select = $userGroupFields.find(\"select\");\n\n    if (!$select.val()) {\n      $userGroupFields.toggle();\n    }\n\n    if ($userGroupFields.is(\":visible\")) {\n      $checkbox.prop(\"checked\", true);\n    } else {\n      $checkbox.prop(\"checked\", false);\n    }\n  });\n});\n","$(() => {\n  const $responsiveTabBlock = $(\".responsive-tab-block\");\n\n  $responsiveTabBlock.click((event) => {\n    if (event.target.closest(\".is-active\") !== null) {\n      event.preventDefault();\n      if (window.innerWidth <= 639) {\n        $responsiveTabBlock.toggleClass(\"expanded\");\n      }\n    }\n  });\n});\n","/* eslint-disable no-console */\n\n$(() => {\n  if (!console) {\n    return;\n  }\n\n  const allMessages = window.Decidim.config.get(\"messages\");\n  if (!allMessages) {\n    return;\n  }\n  const messages = allMessages.selfxssWarning;\n\n  console.log(`%c${messages.title}`, \"color:#f00;font-weight:bold;font-size:50px;\");\n  console.log(`%c${messages.description}`, \"font-size:24px;\");\n});\n","$(() => {\n  let addUsersConversationDialog = $(\"#user-conversations-add-modal\"),\n      button = $(\"#start-conversation-dialog-button\");\n\n  /* eslint no-unused-vars: 0 */\n  if (addUsersConversationDialog.length) {\n    let refreshUrl = addUsersConversationDialog.data(\"refresh-url\");\n\n    button.click(function () {\n      addUsersConversationDialog.foundation(\"open\");\n    });\n  }\n});\n","/* eslint-disable no-invalid-this */\n\n$(() => {\n\n  // Foundation requires plugins to be initializated\n  setTimeout(function() {\n\n    const $tooltips = $(\".tooltip\")\n\n    $tooltips.\n      on(\"mouseover\", function() {\n        $(`[data-keep-on-hover='true'][data-toggle='${this.id}']`).foundation(\"show\");\n      }).\n      on(\"mouseout\", function() {\n        $(`[data-keep-on-hover='true'][data-toggle='${this.id}']`).foundation(\"hide\");\n      })\n  }, 0);\n});\n","$(() => {\n  const $userRegistrationForm = $(\"#register-form\");\n  const $userGroupFields      = $userRegistrationForm.find(\".user-group-fields\");\n  const inputSelector         = 'input[name=\"user[sign_up_as]\"]';\n  const newsletterSelector    = 'input[type=\"checkbox\"][name=\"user[newsletter]\"]';\n  const $newsletterModal      = $(\"#sign-up-newsletter-modal\");\n\n\n  const setGroupFieldsVisibility = (value) => {\n    if (value === \"user\") {\n      $userGroupFields.hide();\n    } else {\n      $userGroupFields.show();\n    }\n  }\n\n  const checkNewsletter = (check) => {\n    $userRegistrationForm.find(newsletterSelector).prop(\"checked\", check);\n    $newsletterModal.data(\"continue\", true);\n    $newsletterModal.foundation(\"close\");\n    $userRegistrationForm.submit();\n  }\n\n  setGroupFieldsVisibility($userRegistrationForm.find(`${inputSelector}:checked`).val());\n\n  $userRegistrationForm.on(\"change\", inputSelector, (event) => {\n    const value = event.target.value;\n\n    setGroupFieldsVisibility(value);\n  });\n\n  $userRegistrationForm.on(\"submit\", (event) => {\n    const newsletterChecked = $userRegistrationForm.find(newsletterSelector);\n    if (!$newsletterModal.data(\"continue\")) {\n      if (!newsletterChecked.prop(\"checked\")) {\n        event.preventDefault();\n        $newsletterModal.foundation(\"open\");\n      }\n    }\n  });\n\n  $newsletterModal.find(\".check-newsletter\").on(\"click\", (event) => {\n    checkNewsletter($(event.target).data(\"check\"));\n  });\n});\n","/* eslint-disable */\n\n/*! modernizr 3.3.1 (Custom Build) | MIT *\n * https://modernizr.com/download/?-setclasses !*/\n!function(n,e,s){function o(n,e){return typeof n===e}function a(){var n,e,s,a,i,l,r;for(var c in f)if(f.hasOwnProperty(c)){if(n=[],e=f[c],e.name&&(n.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(s=0;s<e.options.aliases.length;s++)n.push(e.options.aliases[s].toLowerCase());for(a=o(e.fn,\"function\")?e.fn():e.fn,i=0;i<n.length;i++)l=n[i],r=l.split(\".\"),1===r.length?Modernizr[r[0]]=a:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=a),t.push((a?\"\":\"no-\")+r.join(\"-\"))}}function i(n){var e=r.className,s=Modernizr._config.classPrefix||\"\";if(c&&(e=e.baseVal),Modernizr._config.enableJSClass){var o=new RegExp(\"(^|\\\\s)\"+s+\"no-js(\\\\s|$)\");e=e.replace(o,\"$1\"+s+\"js$2\")}Modernizr._config.enableClasses&&(e+=\" \"+s+n.join(\" \"+s),c?r.className.baseVal=e:r.className=e)}var t=[],f=[],l={_version:\"3.3.1\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(n,e){var s=this;setTimeout(function(){e(s[n])},0)},addTest:function(n,e,s){f.push({name:n,fn:e,options:s})},addAsyncTest:function(n){f.push({name:null,fn:n})}},Modernizr=function(){};Modernizr.prototype=l,Modernizr=new Modernizr;var r=e.documentElement,c=\"svg\"===r.nodeName.toLowerCase();a(),i(t),delete l.addTest,delete l.addAsyncTest;for(var u=0;u<Modernizr._q.length;u++)Modernizr._q[u]();n.Modernizr=Modernizr}(window,document);\n","/* eslint-disable complexity, default-case, no-param-reassign, consistent-return */\n\n/*\n *\n * Social Share Button\n *\n * Copyright (c) <2012> <Jason Lee> - The MIT license\n * Originally copied fom https://github.com/huacnlee/social-share-button\n * Transformed from Coffescript to Javascipt with decaffeintate\n *\n * We've copied itlocally so it works with webpacker\n *\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nwindow.SocialShareButton = {\n  openUrl(url, width, height) {\n    if (width === null) {\n      width = 640;\n    }\n    if (height === null) {\n      height = 480;\n    }\n    const left = (screen.width / 2) - (width / 2);\n    const top = (screen.height * 0.3) - (height / 2);\n    const opt = `width=${width},height=${height},left=${left},top=${top},menubar=no,status=no,location=no`;\n    window.open(url, \"popup\", opt);\n    return false;\n  },\n\n  share(el) {\n    if (el.getAttribute === null) {\n      el = document.querySelector(el);\n    }\n\n    const site = el.getAttribute(\"data-site\");\n    const appkey = el.getAttribute(\"data-appkey\") || \"\";\n    const $parent = el.parentNode;\n    let title = encodeURIComponent(el.getAttribute(`data-${site}-title`) || $parent.getAttribute(\"data-title\") || \"\");\n    const img = encodeURIComponent($parent.getAttribute(\"data-img\") || \"\");\n    let url = encodeURIComponent($parent.getAttribute(\"data-url\") || \"\");\n    const via = encodeURIComponent($parent.getAttribute(\"data-via\") || \"\");\n    const desc = encodeURIComponent($parent.getAttribute(\"data-desc\") || \" \");\n\n    // tracking click events if google analytics enabled\n    const ga = window[window.GoogleAnalyticsObject || \"ga\"];\n    if (typeof ga === \"function\") {\n      ga(\"send\", \"event\", \"Social Share Button\", \"click\", site);\n    }\n\n    if (url.length === 0) {\n      url = encodeURIComponent(location.href);\n    }\n    switch (site) {\n    case \"email\":\n      location.href = `mailto:?subject=${title}&body=${url}`;\n      break;\n    case \"weibo\":\n      this.openUrl(`http://service.weibo.com/share/share.php?url=${url}&type=3&pic=${img}&title=${title}&appkey=${appkey}`, 620, 370);\n      break;\n    case \"twitter\": {\n      let hashtags = encodeURIComponent(el.getAttribute(`data-${site}-hashtags`) || $parent.getAttribute(\"data-hashtags\") || \"\");\n      let viaStr = \"\";\n      if (via.length > 0) {\n        viaStr = `&via=${via}`;\n      }\n      this.openUrl(`https://twitter.com/intent/tweet?url=${url}&text=${title}&hashtags=${hashtags}${viaStr}`, 650, 300);\n      break;\n    }\n    case \"douban\":\n      this.openUrl(`http://shuo.douban.com/!service/share?href=${url}&name=${title}&image=${img}&sel=${desc}`, 770, 470);\n      break;\n    case \"facebook\":\n      this.openUrl(`http://www.facebook.com/sharer/sharer.php?u=${url}`, 555, 400);\n      break;\n    case \"qq\":\n      this.openUrl(`http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=${url}&title=${title}&pics=${img}&summary=${desc}&site=${appkey}`);\n      break;\n    case \"google_bookmark\":\n      this.openUrl(`https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=${url}&title=${title}`);\n      break;\n    case \"delicious\":\n      this.openUrl(`https://del.icio.us/save?url=${url}&title=${title}&jump=yes&pic=${img}`);\n      break;\n    case \"pinterest\":\n      this.openUrl(`http://www.pinterest.com/pin/create/button/?url=${url}&media=${img}&description=${title}`);\n      break;\n    case \"linkedin\":\n      this.openUrl(`https://www.linkedin.com/shareArticle?mini=true&url=${url}&title=${title}&summary=${desc}`);\n      break;\n    case \"xing\":\n      this.openUrl(`https://www.xing.com/spi/shares/new?url=${url}`);\n      break;\n    case \"vkontakte\":\n      this.openUrl(`http://vk.com/share.php?url=${url}&title=${title}&image=${img}`);\n      break;\n    case \"odnoklassniki\":\n      this.openUrl(`https://connect.ok.ru/offer?url=${url}&title=${title}&description=${desc}&imageUrl=${img}`);\n      break;\n    case \"wechat\":\n      if (!window.SocialShareWeChatButton) {\n        throw new Error(\"You should require social-share-button/wechat to your application.js\");\n      }\n      window.SocialShareWeChatButton.qrcode({\n        url: decodeURIComponent(url),\n        header: el.getAttribute(\"title\"),\n        footer: el.getAttribute(\"data-wechat-footer\")\n      });\n      break;\n\n    case \"tumblr\": {\n      let getTumblrExtra = (param) => {\n        const cutomData = el.getAttribute(`data-${param}`);\n        if (cutomData) {\n          return encodeURIComponent(cutomData);\n        }\n      };\n\n      let tumblrParams = () => {\n        const path = getTumblrExtra(\"type\") || \"link\";\n\n        const params = (() => {\n          switch (path) {\n          case \"text\": {\n            title = getTumblrExtra(\"title\") || title;\n            return `title=${title}`;\n          }\n          case \"photo\": {\n            title = getTumblrExtra(\"caption\") || title;\n            let source = getTumblrExtra(\"source\") || img;\n            return `caption=${title}&source=${source}`;\n          }\n          case \"quote\": {\n            let quote = getTumblrExtra(\"quote\") || title;\n            let source = getTumblrExtra(\"source\") || \"\";\n            return `quote=${quote}&source=${source}`;\n          }\n          // actually, it's a link clause\n          default: {\n            title = getTumblrExtra(\"title\") || title;\n            url = getTumblrExtra(\"url\") || url;\n            return `name=${title}&url=${url}`;\n          }} })();\n\n        return `/${path}?${params}`;\n      };\n\n      this.openUrl(`http://www.tumblr.com/share${tumblrParams()}`);\n      break;\n    }\n    case \"reddit\":\n      this.openUrl(`http://www.reddit.com/submit?url=${url}&newwindow=1`, 555, 400);\n      break;\n    case \"hacker_news\":\n      this.openUrl(`http://news.ycombinator.com/submitlink?u=${url}&t=${title}`, 770, 500);\n      break;\n    case \"telegram\":\n      this.openUrl(`https://telegram.me/share/url?text=${title}&url=${url}`);\n      break;\n    case \"whatsapp_app\": {\n      let whatsappAppUrl = `whatsapp://send?text=${title}%0A${url}`;\n      window.open(whatsappAppUrl, \"_top\");\n      break;\n    }\n    case \"whatsapp_web\":\n      this.openUrl(`https://web.whatsapp.com/send?text=${title}%0A${url}`);\n      break;\n    }\n    return false;\n  }\n};\n","// This file is compiled inside Decidim core pack. Code can be added here and will be executed\n// as part of that pack\n\n// Load images\nrequire.context(\"../../images\", true)\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/decidim-packs/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t2835: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkapp\"] = self[\"webpackChunkapp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [85,5889,166,5509,2557,4377,7298,309,4872], function() { return __webpack_require__(11491); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","updateSubmitButton","$fieldContainer","$selectedItems","$form","closest","length","$submitButton","find","children","prop","$","$multipleMentionContainer","$multipleMentionRecipientsContainer","nodatafound","attr","directMessageDisabled","mentionsCount","deleteRecipient","element","remove","noMatchTemplate","$element","tribute","Tribute","autocompleteMode","values","callback","wait","timeout","args","arguments","context","_this","clearTimeout","setTimeout","apply","debounce","text","cb","exclusionIds","each","index","push","this","val","query","post","then","response","data","users","fail","always","$parent","current","parent","addClass","removeAttr","remoteSearch","positionMenu","menuContainer","menuItemLimit","fillAttr","lookup","item","nickname","name","selectTemplate","recipientLabel","original","avatarUrl","__typename","directMessagesEnabled","append","menuItemTemplate","svg","enabled","window","Decidim","iconsPath","config","get","membersCount","disabledElementClass","disabledElementMessage","on","event","target","parentNode","hasClass","removeClass","isActive","$tribute","appendTo","attach","$target","tagName","setupRecipientEvents","COUNT_KEY","DEFAULT_MESSAGES","charactersAtLeast","one","other","charactersLeft","MESSAGES","InputCharacterCounter","input","$input","minCharacters","parseInt","maxCharacters","targetId","Math","random","toString","substr","is","after","bindEvents","messages","extend","Quill","siblings","updateStatus","addEventListener","numCharacters","showMessages","message","replace","remaining","dispatchEvent","CustomEvent","detail","join","createCharacterCounter","_i","elem","focus","DEFAULT_ATTRIBUTES","role","EXCLUDE_CLASSES","EXCLUDE_ANCESTOR_CLASSES","EXCLUDE_REL","externalLink","ExternalLink","link","$link","setup","some","cls","parents","rel","split","indexOf","spacer","trim","generateElement","content","generateIcon","generateScreenReaderLabel","iconKey","attributes","iconAttributes","title","ariaLabel","Reflect","deleteProperty","htmlAttributes","forEach","key","newKey","ucw","toLowerCase","elHtml","$el","prepend","html","icon","updateExternalDomainLinks","whitelist","location","pathname","filter","hasAttribute","parts","match","domain","includes","_n","externalHref","encodeURIComponent","correctErrors","FormValidator","form","handleError","announceFormError","$announce","el","document","_ev","trigger","CommentsComponent","commentableGid","commentsUrl","rootDepth","order","lastCommentId","pollingInterval","_getUID","mounted","_initializeComments","_onInitOrder","_stopPolling","off","removeEventListener","_this2","_onTextInput","threadHtml","fromCurrentUser","$comment","$threads","_addComment","_finalizeCommentCreation","commentId","replyHtml","$replies","Date","setUTCMilliseconds","floor","$add","$opinionButtons","$text","_this3","_onToggleOpinion","_pollComments","$container","foundation","characterCounter","pollTimeout","Rails","ajax","url","_this4","type","URLSearchParams","success","_setLoading","ev","$btn","$selectedState","$alignment","$submit","addInputEmoji","containers","querySelectorAll","picker","EmojiButton","position","rootElement","parentElement","body","zIndex","reveal","style","overflowY","wrapper","createElement","className","btnContainer","btn","innerHTML","insertBefore","appendChild","handlerPicker","togglePicker","removeAttribute","setAttribute","emoji","value","Event","focusGuardClass","focusableNodes","focusableDisableableNodes","FocusGuard","container","guardedElement","Keyboard","enable","guards","guard","dataset","startGuard","createFocusGuard","endGuard","handleContainerFocus","tabIndex","visibleNodes","Array","from","isVisible","ind","isFocusGuard","isFocusable","blur","offsetWidth","offsetHeight","classList","contains","nodeName","getAttribute","tabindex","isNaN","Configuration","DataPicker","theDataPicker","focusGuard","querySelector","dialog","$dialog","$title","$visibleReveal","trap","disable","svg4everybody","preventDefault","formDatePicker","_idx","createQuillEditor","comments","mountComponent","FormFilterComponent","links","sessionStorage","filteredParams","JSON","parse","getItem","href","backToListLink","selectedText","select","$temp","css","width","height","copyDone","execCommand","err","label","to","removeData","$msg","appendAround","matches","submit","disabled","Foundation","hover","top","scrollTop","initializeListingOptionsMenu","options","containerSelector","pushState","registerCallback","callbackName","$targetMenu","dataAttribute","linkText","urlParameter","$impersonationWarning","endsAt","moment","exitInterval","setInterval","diff","diffInMinutes","round","reload","clearInterval","morphdom","require","$deleteAccountForm","$deleteAccountModalForm","$openModalButton","$modal","reasonValue","error","console","stopPropagation","redirectUrl","querystring","jQuery","param","parameter","urlParts","urlBase","shift","queryString","prefix","lastIndexOf","splice","removeUrlParameter","$callout","ready","scrollTo","offset","behavior","$allDiffViews","$selected","$visibleDiffViewsId","not","first","slice","$visibleDiffViews","localStorage","getDismissedHelpers","serialized","dismissedHelpers","_index","setItem","addDismissedHelper","callbacks","callbackId","unregisterCallback","state","history","replaceState","onpopstate","isTrusted","hasOwnProperty","button","identitiesUrl","userIdentitiesDialog","click","done","liTag","method","urlDataAttr","dataType","$inputs","selectionStart","selectionEnd","originalEvent","jumpNext","maxLength","next","keyCode","jumpPrev","prev","$notificationsBellIcon","$wrapper","$section","$noNotificationsText","$pagination","emptyNotifications","$item","fadeOut","$checkbox","$userGroupFields","toggle","$responsiveTabBlock","innerWidth","toggleClass","allMessages","selfxssWarning","log","description","addUsersConversationDialog","$userRegistrationForm","inputSelector","newsletterSelector","$newsletterModal","setGroupFieldsVisibility","hide","show","newsletterChecked","check","n","s","_typeof","t","f","l","_version","_config","classPrefix","enableClasses","enableJSClass","usePrefixes","_q","addTest","fn","addAsyncTest","Modernizr","prototype","r","documentElement","c","a","i","aliases","Boolean","baseVal","RegExp","u","SocialShareButton","openUrl","left","screen","opt","open","share","path","params","site","appkey","img","via","desc","ga","GoogleAnalyticsObject","hashtags","viaStr","SocialShareWeChatButton","qrcode","decodeURIComponent","header","footer","getTumblrExtra","cutomData","source","quote","whatsappAppUrl","__webpack_module_cache__","moduleId","cachedModule","undefined","loaded","__webpack_modules__","call","m","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","getter","__esModule","d","definition","defineProperty","enumerable","g","globalThis","Function","obj","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}