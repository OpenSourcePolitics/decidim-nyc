!function(){var e,t={12155:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.listSelector=t.listSelector,this.labelSelector=t.labelSelector,this.onPositionComputed=t.onPositionComputed,this.run()}var t,n,r;return t=e,(n=[{key:"run",value:function(){var e=this;$(this.listSelector).each((function(t,n){var i=$(n).find(e.labelSelector),o=i.html();o.match(/#(\d+)/)?i.html(o.replace(/#(\d+)/,"#".concat(t+1))):i.html("".concat(o," #").concat(t+1)),e.onPositionComputed&&e.onPositionComputed(n,t)}))}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.listSelector=t.listSelector,this.hideOnFirstSelector=t.hideOnFirstSelector,this.hideOnLastSelector=t.hideOnLastSelector,this.run()}var t,n,i;return t=e,(n=[{key:"run",value:function(){var e=$(this.listSelector),t=this.hideOnFirstSelector,n=this.hideOnLastSelector;if(1===e.length){var i=e.first();i.find(t).hide(),i.find(n).hide()}else e.each((function(i,o){o.id===e.first().attr("id")?($(o).find(t).hide(),$(o).find(n).show()):o.id===e.last().attr("id")?($(o).find(n).hide(),$(o).find(t).show()):($(o).find(n).show(),$(o).find(t).show())}))}}])&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.wrapperSelector=t.wrapperSelector,this.containerSelector=t.containerSelector,this.fieldSelector=t.fieldSelector,this.addFieldButtonSelector=t.addFieldButtonSelector,this.addSeparatorButtonSelector=t.addSeparatorButtonSelector,this.addTitleAndDescriptionButtonSelector=t.addTitleAndDescriptionButtonSelector,this.fieldTemplateSelector=t.fieldTemplateSelector,this.separatorTemplateSelector=t.separatorTemplateSelector,this.TitleAndDescriptionTemplateSelector=t.TitleAndDescriptionTemplateSelector,this.removeFieldButtonSelector=t.removeFieldButtonSelector,this.moveUpFieldButtonSelector=t.moveUpFieldButtonSelector,this.moveDownFieldButtonSelector=t.moveDownFieldButtonSelector,this.onAddField=t.onAddField,this.onRemoveField=t.onRemoveField,this.onMoveUpField=t.onMoveUpField,this.onMoveDownField=t.onMoveDownField,this.placeholderId=t.placeholderId,this.elementCounter=0,this._enableInterpolation(),this._activateFields(),this._bindEvents()}var t,n,i;return t=e,n=[{key:"_enableInterpolation",value:function(){$.fn.replaceAttribute=function(e,t,n){return $(this).find("[".concat(e,"*=").concat(t,"]")).addBack("[".concat(e,"*=").concat(t,"]")).each((function(i,o){$(o).attr(e,$(o).attr(e).replace(t,n))})),this},$.fn.template=function(e,t){var n=$(this).find("template, .decidim-template");n.length>0&&n.html((function(n,i){return $(i).template(e,t)[0].outerHTML}));var i=$(this).find("[data-template]");return i.length>0&&i.each((function(n,i){var o=$(i),r=$(o.data("template")),a=$(r[0].outerHTML),l="".concat(r.attr("id"),"-").concat(t),c="#".concat(l);a.attr("id",l),o.attr("data-template",c).data("template",c),r.after(a),a.html((function(n,i){return $(i).template(e,t)[0].outerHTML}))})),$(this).replaceAttribute("id",e,t),$(this).replaceAttribute("name",e,t),$(this).replaceAttribute("data-tabs-content",e,t),$(this).replaceAttribute("for",e,t),$(this).replaceAttribute("tabs_id",e,t),$(this).replaceAttribute("href",e,t),$(this).replaceAttribute("value",e,t),this}}},{key:"_bindEvents",value:function(){var e=this;$(this.wrapperSelector).on("click",this.addFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.fieldTemplateSelector)}))})),this.addSeparatorButtonSelector&&$(this.wrapperSelector).on("click",this.addSeparatorButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.separatorTemplateSelector)}))})),this.addTitleAndDescriptionButtonSelector&&$(this.wrapperSelector).on("click",this.addTitleAndDescriptionButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.TitleAndDescriptionTemplateSelector)}))})),$(this.wrapperSelector).on("click",this.removeFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._removeField(t)}))})),this.moveUpFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveUpFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._moveUpField(t)}))})),this.moveDownFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveDownFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._moveDownField(t)}))}))}},{key:"_bindSafeEvent",value:function(e,t){e.preventDefault(),e.stopPropagation();try{return t(e.target)}catch(n){return console.error(n),n}}},{key:"_addField",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".decidim-template",t=$(this.wrapperSelector),n=t.find(this.containerSelector),i=t.data("template"),o=null;i&&(o=$(i)),(null===o||o.length<1)&&(o=t.children("template, ".concat(e)));var r=$(o.html()).template(this.placeholderId,this._getUID());r.find("ul.tabs").attr("data-tabs",!0);var a=n.find(this.fieldSelector).last();a.length>0?a.after(r):r.appendTo(n),r.foundation(),this.onAddField&&this.onAddField(r)}},{key:"_removeField",value:function(e){var t=$(e).parents(this.fieldSelector);if(t.find("input").filter((function(e,t){return t.name.match(/id/)})).length>0){var n=t.find("input").filter((function(e,t){return t.name.match(/delete/)}));n.length>0&&$(n[0]).val(!0),t.addClass("hidden"),t.hide()}else t.remove();this.onRemoveField&&this.onRemoveField(t)}},{key:"_moveUpField",value:function(e){var t=$(e).parents(this.fieldSelector);t.prev().before(t),this.onMoveUpField&&this.onMoveUpField(t)}},{key:"_moveDownField",value:function(e){var t=$(e).parents(this.fieldSelector);t.next().after(t),this.onMoveDownField&&this.onMoveDownField(t)}},{key:"_activateFields",value:function(){var e=this,t=$(this.wrapperSelector).find(this.containerSelector);t.append(t.find("script")),$(this.fieldSelector).each((function(t,n){$(n).template(e.placeholderId,e._getUID()),$(n).find("ul.tabs").attr("data-tabs",!0)}))}},{key:"_getUID",value:function(){return this.elementCounter+=1,(new Date).getTime()+this.elementCounter}}],n&&d(t.prototype,n),i&&d(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();var f=n(64112);function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=p((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(t).length>0&&(0,f.Z)(t,n)[0].addEventListener("sortupdate",(function(e){var t=$(e.target).children();n.onSortUpdate&&n.onSortUpdate(t)}))}));$((function(){var e=function(e){var t="#".concat(e.attr("id")),n=e.data("placeholder-id"),i=".multifield-field",o=new r({listSelector:"".concat(t," .multifield-field:not(.hidden)"),labelSelector:".card-title span:first",onPositionComputed:function(e,t){$(e).find("input.position-input").val(t)}}),a=new c({listSelector:"".concat(t," .multifield-field:not(.hidden)"),hideOnFirstSelector:".move-up-field",hideOnLastSelector:".move-down-field"}),l=function(){var e;e="".concat(t," .fields-list:not(.published)"),new v(e,{handle:".multifield-field-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){o.run()}})};new u({placeholderId:n,wrapperSelector:t,containerSelector:".multifield-fields-list",fieldSelector:i,addFieldButtonSelector:".add-field",removeFieldButtonSelector:".remove-field",moveUpFieldButtonSelector:".move-up-field",moveDownFieldButtonSelector:".move-down-field",onAddField:function(t){l(),o.run(),a.run(),e.trigger("add-field-section",t)},onRemoveField:function(){o.run(),a.run()},onMoveUpField:function(){o.run(),a.run()},onMoveDownField:function(){o.run(),a.run()}}),l(),$(i).each((function(e,t){!function(e){"true"===e.find("input[name$=\\[deleted\\]]").val()&&(e.addClass("hidden"),e.hide())}($(t))})),o.run(),a.run()};$.fn.multifield=function(){$(this).each((function(){var t=$(this),n=t.attr("id");(!n||n.length<1)&&(n="multifield-".concat(Math.random().toString(16).slice(2)),t.attr("id",n)),e(t)}))}}));n(88100),n(68480),n(25984),n(51182)},88100:function(){$((function(){$.fn.constraintSection=function(){$(this).each((function(){!function(e){var t=$("select.constraint-subject-selector",e),n=$("select.constraint-subject-model-selector",e);t.on("change init",(function(){var t=$(this).val();$("[data-manifest]",e).hide(),$('[data-manifest="'.concat(t,'"]'),e).show()})).trigger("init"),n.on("change init",(function(){var e=$(this).parents(".manifest-container"),t=$(this).val();$("[data-components]",e).hide(),$('[data-components="'.concat(t,'"]'),e).show()})).trigger("init")}($(this))}))}}))},68480:function(){$((function(){var e=$("form.translation-sets-form .multifield-fields");e.multifield(),e.on("add-field-section",(function(e,t){$(t).constraintSection()})),$(".constraints-list .constraint-section",e).each((function(e,t){$(t).constraintSection()}))}))},51182:function(){$((function(){var e=$("#data_picker-autocomplete"),t=$("#add-translations-results"),n=$("template",t),i=e.parents("form"),o="",r=[];e.on("keyup",(function(){o=e.val()})),i.on("submit",(function(e){return e.preventDefault()})),$.isObject=$.isPlainObject;$.fn.tcAutocomplete=function(t){$(this).each((function(n,i){var o=$(i),a=function(t){var n=$("#".concat(t.mainContainerId)),i=$("<div />");return n.css({top:"",left:""}),i.css({position:"relative"}),i.append(n),e.after(i),t.fixPosition=function(){},t.origSuggest=t.suggest,t.suggest=function(){return t.suggestions=t.suggestions.filter((function(e){return!r.includes(e)})),t.data=t.data.filter((function(e){return!r.includes(e.value)})),t.origSuggest()},t.onKeyPress=function(e){if(!t.disabled&&t.enabled){switch(e.keyCode){case 27:t.el.val(t.currentValue),t.hide();break;case 9:case 13:if(1===t.suggestions.length)t.select(0);else{if(-1===t.selectedIndex)return void t.hide();t.select(t.selectedIndex)}if(9===e.keyCode)return;break;case 38:t.moveUp();break;case 40:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},t}(o.autocomplete(t));o.data("autocomplete",a)}))},e.tcAutocomplete({width:"100%",minChars:2,noCache:!0,serviceUrl:i.attr("action"),delimiter:"||",deferRequestBy:500,formatResult:function(e,t){var n=e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),i=new RegExp("(".concat(n,")"),"gi");return"".concat(t.value," - ").concat(t.data).replace(i,"<strong>$1</strong>")},onSelect:function(a,l){var c=l.data,s=l.value;r.push(a);var d=n.html();d=(d=d.replace(new RegExp("{{translation_key}}","g"),c)).replace(new RegExp("{{translation_term}}","g"),s);var u=$(d);$("table tbody",t).append(u),t.removeClass("hide");var f=$('<input type="hidden" name="keys[]" value="'.concat(c,'">'));i.append(f),$(".remove-translation-key",u).on("click",(function(e){e.preventDefault(),u.remove(),f.remove(),r=r.filter((function(e){return e!==a})),$("table tbody tr",t).length<1&&t.addClass("hide")})),e.val(o),setTimeout((function(){e.data("autocomplete").suggest()}),20)}})}))},25984:function(){$(document).ready((function(){var e=function(){return $(".table-list .js-check-all-translation:checked").length};window.selectedTranslationsCountUpdate=function(){0===e()?$("#js-selected-translation-count").text(""):$("#js-selected-translation-count").text(e())};var t=function(){e()>0&&$("#js-bulk-actions-button").removeClass("hide")},n=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0!==e()&&!0!==t||($("#js-bulk-actions-button").addClass("hide"),$("#js-bulk-actions-dropdown").removeClass("is-open"))};window.showOtherActionsButtons=function(){$("#js-other-actions-wrapper").removeClass("hide")};window.hideBulkActionForms=function(){return $(".js-bulk-action-form").addClass("hide")},$(".js-bulk-action-form").length&&(window.hideBulkActionForms(),$("#js-bulk-actions-button").addClass("hide"),$("#js-bulk-actions-dropdown ul li button").click((function(e){e.preventDefault();var t=$(e.target).data("action");t&&($("#js-form-".concat(t)).submit((function(){$(".layout-content > .callout-wrapper").html("")})),$("#js-".concat(t,"-actions")).removeClass("hide"),n(!0),$("#js-other-actions-wrapper").addClass("hide"))})),$(".js-check-all").change((function(){$(".js-check-all-translation").prop("checked",$(this).prop("checked")),$(this).prop("checked")?($(".js-check-all-translation").closest("tr").addClass("selected"),t()):($(".js-check-all-translation").closest("tr").removeClass("selected"),n()),window.selectedTranslationsCountUpdate()})),$(".table-list").on("change",".js-check-all-translation",(function(){var e=$(this).val(),i=$(this).prop("checked");!1===$(this).prop("checked")&&$(".js-check-all").prop("checked",!1),$(".js-check-all-translation:checked").length===$(".js-check-all-translation").length&&($(".js-check-all").prop("checked",!0),t()),$(this).prop("checked")?(t(),$(this).closest("tr").addClass("selected")):(n(),$(this).closest("tr").removeClass("selected")),0===$(".js-check-all-translation:checked").length&&n(),$(".js-bulk-action-form").find(".js-translation-id-".concat(e)).prop("checked",i),window.selectedTranslationCountUpdate()})),$(".js-cancel-bulk-action").on("click",(function(){window.hideBulkActionForms(),t(),window.showOtherActionsButtons()})))}))}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,i),r.exports}i.m=t,e=[],i.O=function(t,n,o,r){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var l=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(l=!1,r<a&&(a=r));if(l){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={8632:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,a=n[0],l=n[1],c=n[2],s=0;if(a.some((function(t){return 0!==e[t]}))){for(o in l)i.o(l,o)&&(i.m[o]=l[o]);if(c)var d=c(i)}for(t&&t(n);s<a.length;s++)r=a[s],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self.webpackChunkapp=self.webpackChunkapp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=i.O(void 0,[4112],(function(){return i(12155)}));o=i.O(o)}();
//# sourceMappingURL=decidim_term_customizer_admin-64f8d3f0984089259078.js.map